"scrEntry As screen.'autoLayout_Sidebar_ver1.0'":
    Fill: =RGBA(45, 128, 40, 1)
    LoadingSpinnerColor: =App.Theme.Colors.Primary
    OnHidden: =
    OnVisible: |
        =UpdateContext({IsLoadingGetAllFiles: true});
        UpdateContext({Files: ParseJSON(GetAll.Run().outputfiles)});
        UpdateContext(
            {
                XMLFiles: Table(
                    Filter(ForAll(
                        Files.ReadyForProcessing As file,
                        {
                            FileName: Text(file.Name),
                            FileType: Text(Last(FirstN(Split(
                                file.Name,
                                "_"
                            ), 2)).Value),
                            FolderName: "ReadyForProcessing"
                        }
                    ), Last(FirstN(Split(ThisRecord.FileName, "_"), 1)).Value = warehouseCode),
                    Filter(ForAll(
                        Files.InProgress As file,
                        {
                            FileName: file.Name,
                            FileType: Text(Last(FirstN(Split(
                                file.Name,
                                "_"
                            ), 2)).Value),
                            FolderName: "InProgress"
                        }
                    ), Last(FirstN(Split(ThisRecord.FileName, "_"), 1)).Value = warehouseCode)
                )
            }
        );
        UpdateContext({filteredFiles: XMLFiles});
        If(
            Not(dd_Status.Selected.Id = "All"),
            UpdateContext(
                {
                    filteredFiles: Filter(
                        filteredFiles,
                        dd_Status.Selected.Id = ThisRecord.FolderName
                    )
                }
            )
        );
        If(
            Not(dd_FileType.Selected.Id = "0"),
            UpdateContext(
                {
                    filteredFiles: Filter(
                        filteredFiles,
                        dd_FileType.Selected.Id = ThisRecord.FileType
                    )
                }
            )
        );
        UpdateContext({IsLoadingGetAllFiles: false});

    ScreenContainer2 As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =16
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowX: =LayoutOverflow.Scroll
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =Parent.Width
        ZIndex: =1

        HeaderContainer2 As groupContainer.horizontalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =75
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =1

            Header1 As Header:
                AlignInContainer: =AlignInContainer.Start
                BasePaletteColor: =RGBA(249, 83, 109, 1)
                DisplayMode: =DisplayMode.Edit
                FillPortions: =1
                FontColor: =
                Height: =75
                LayoutMinHeight: =75
                LayoutMinWidth: =Parent.Width
                Logo: =FFLogo
                OnSelectLogo: =Navigate(scrEntry)
                Style: ='Header.Style'.Primary
                Title: ="BADECO SLJEDIVOST I NAPREDNO SKLADIŠTE"
                TitleFontSize: =14
                UserEmail: =User().Email
                UserImage: =User().Image
                UserName: =User().FullName
                Width: =Parent.Width
                X: =0
                Y: =0
                ZIndex: =1

        BottomContainer2 As groupContainer.horizontalAutoLayoutContainer:
            DropShadow: =DropShadow.Light
            Fill: =RGBA(245, 245, 245, 1)
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutGap: =16
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutWrap: =true
            PaddingBottom: =2
            PaddingLeft: =2
            PaddingRight: =2
            PaddingTop: =2
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            ZIndex: =3

            vrtcon_GetAllFiles As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.Light
                Height: =Parent.Height
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =15
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =10
                PaddingLeft: =10
                PaddingRight: =10
                PaddingTop: =10
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =7

                hrzcon_GetAllFilesDDs As groupContainer.horizontalAutoLayoutContainer:
                    FillPortions: =0
                    Height: =If(isMobile, 240, 80)
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutDirection: =If(isMobile, LayoutDirection.Vertical, LayoutDirection.Horizontal)
                    LayoutGap: =10
                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                    LayoutMinHeight: =80
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Width: =Parent.Width
                    ZIndex: =1

                    vrtcon_Status As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        Height: =Parent.Height
                        LayoutAlignItems: =LayoutAlignItems.Stretch
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutGap: =5
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        LayoutMinHeight: =50
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingBottom: =2
                        PaddingLeft: =2
                        PaddingRight: =2
                        PaddingTop: =2
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =1

                        txt_Status As Text:
                            AutoHeight: =true
                            DisplayMode: =DisplayMode.Edit
                            Height: =32
                            LayoutMinHeight: =32
                            LayoutMinWidth: =96
                            Text: ="Status dokumenta"
                            Width: =14
                            X: =0
                            Y: =0
                            ZIndex: =1

                        con_Status As groupContainer.manualLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            DropShadow: =DropShadow.Light
                            LayoutMinHeight: =50
                            LayoutMinWidth: =250
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            ZIndex: =3

                            dd_Status As Dropdown.pcfdataset:
                                DefaultSelectedItems: |-
                                    ={Id: "All", Text: "All"}
                                DisplayMode: =DisplayMode.Edit
                                Height: =Parent.Height
                                Items: |-
                                    =[{Id: "All", Text: "All"}, {Id: "ReadyForProcessing", Text: "Ready for processing"}, {Id: "InProgress", Text: "In progress"}]
                                OnChange: |-
                                    =If(
                                        Not(dd_Status.Selected.Id = "All"),
                                        UpdateContext(
                                            {
                                                filteredFiles: Filter(
                                                    XMLFiles,
                                                    dd_Status.Selected.Id = ThisRecord.FolderName
                                                )
                                            }
                                        ),
                                        UpdateContext({filteredFiles: XMLFiles})
                                    );
                                    If(
                                        Not(dd_FileType.Selected.Id = "0"),
                                        UpdateContext(
                                            {
                                                filteredFiles: Filter(
                                                    filteredFiles,
                                                    dd_FileType.Selected.Id = ThisRecord.FileType
                                                )
                                            }
                                        )
                                    );
                                Width: =Parent.Width
                                X: =0
                                Y: =0
                                ZIndex: =2

                                TextInput3 As PowerApps_CoreControls_DropdownCanvasTemplate_dataField.textualColumn:
                                    FieldDisplayName: ="Text"
                                    FieldName: ="Text"
                                    FieldType: ="s"
                                    FieldVariantName: ="textualColumn"
                                    Height: =100
                                    Order: =1
                                    Width: =100
                                    X: =0
                                    Y: =0
                                    ZIndex: =14

                                Id1 As PowerApps_CoreControls_DropdownCanvasTemplate_dataField.textualColumn:
                                    FieldDisplayName: ="Id"
                                    FieldName: ="Id"
                                    FieldType: ="s"
                                    FieldVariantName: ="textualColumn"
                                    Height: =100
                                    Order: =2
                                    Width: =100
                                    X: =0
                                    Y: =0
                                    ZIndex: =16

                    vrtcon_FileType As groupContainer.verticalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        Height: =Parent.Height
                        LayoutAlignItems: =LayoutAlignItems.Stretch
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutGap: =5
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        LayoutMinHeight: |
                            =50
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingBottom: =2
                        PaddingLeft: =2
                        PaddingRight: =2
                        PaddingTop: =2
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =2

                        txt_FileType As Text:
                            AutoHeight: =true
                            DisplayMode: =DisplayMode.Edit
                            Height: =32
                            LayoutMinHeight: =32
                            LayoutMinWidth: =96
                            Text: ="Tip dokumenta"
                            Width: =96
                            X: =0
                            Y: =0
                            ZIndex: =1

                        con_FileType As groupContainer.manualLayoutContainer:
                            DropShadow: =DropShadow.Light
                            Height: =Parent.Height
                            LayoutMinHeight: =50
                            LayoutMinWidth: =250
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            Width: =Parent.Width
                            ZIndex: =3

                            dd_FileType As Dropdown.pcfdataset:
                                DefaultSelectedItems: |-
                                    ={
                                        Id: "0",
                                        Text: "All"
                                    }
                                DisplayMode: =DisplayMode.Edit
                                Height: =Parent.Height
                                Items: |-
                                    =[
                                        {
                                            Id: "0",
                                            Text: "All"
                                        },
                                        {
                                            Id: "01",
                                            Text: "Temeljnice inventure"
                                        },
                                        {
                                            Id: "02",
                                            Text: "Nabavni nalozi"
                                        },
                                        {
                                            Id: "03",
                                            Text: "Prodajni nalozi"
                                        },
                                        {
                                            Id: "04",
                                            Text: "Nalozi za prenos"
                                        },
                                        {
                                            Id: "05",
                                            Text: "Skladišne primke"
                                        },
                                        {
                                            Id: "06",
                                            Text: "Skladišne otpremnice"
                                        },
                                        {
                                            Id: "07",
                                            Text: "Put-Away Request"
                                        },
                                        {
                                            Id: "08",
                                            Text: "Pick Request"
                                        }
                                    ]
                                OnChange: |
                                    =If(
                                        Not(dd_FileType.Selected.Id = "0"),
                                        UpdateContext(
                                            {
                                                filteredFiles: Filter(
                                                    XMLFiles,
                                                    dd_FileType.Selected.Id = ThisRecord.FileType
                                                )
                                            }
                                        ),
                                        UpdateContext({filteredFiles: XMLFiles})
                                    );
                                    If(
                                        Not(dd_Status.Selected.Id = "All"),
                                        UpdateContext(
                                            {
                                                filteredFiles: Filter(
                                                    filteredFiles,
                                                    dd_Status.Selected.Id = ThisRecord.FolderName
                                                )
                                            }
                                        )
                                    );
                                Width: =Parent.Width
                                X: =0
                                Y: =0
                                ZIndex: =2

                                TextInput4 As PowerApps_CoreControls_DropdownCanvasTemplate_dataField.textualColumn:
                                    FieldDisplayName: ="Text"
                                    FieldName: ="Text"
                                    FieldType: ="s"
                                    FieldVariantName: ="textualColumn"
                                    Height: =100
                                    Order: =1
                                    Width: =100
                                    X: =0
                                    Y: =0
                                    ZIndex: =15

                                Id2 As PowerApps_CoreControls_DropdownCanvasTemplate_dataField.textualColumn:
                                    FieldDisplayName: ="Id"
                                    FieldName: ="Id"
                                    FieldType: ="s"
                                    FieldVariantName: ="textualColumn"
                                    Height: =100
                                    Order: =2
                                    Width: =100
                                    X: =0
                                    Y: =0
                                    ZIndex: =17

                    icn_ReloadFiles As icon.Reload:
                        AlignInContainer: =AlignInContainer.End
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =App.Theme.Colors.Darker30
                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                        DisabledColor: =RGBA(214, 221, 224, 1)
                        Height: =60
                        Icon: =Icon.Reload
                        LayoutMinHeight: =32
                        OnSelect: |
                            =UpdateContext({IsLoadingGetAllFiles: true});
                            UpdateContext({Files: ParseJSON(GetAll.Run().outputfiles)});
                            UpdateContext(
                                {
                                    XMLFiles: Table(
                                        Filter(ForAll(
                                            Files.ReadyForProcessing As file,
                                            {
                                                FileName: Text(file.Name),
                                                FileType: Text(Last(FirstN(Split(
                                                    file.Name,
                                                    "_"
                                                ), 2)).Value),
                                                FolderName: "ReadyForProcessing"
                                            }
                                        ), Last(FirstN(Split(ThisRecord.FileName, "_"), 1)).Value = warehouseCode),
                                        Filter(ForAll(
                                            Files.InProgress As file,
                                            {
                                                FileName: file.Name,
                                                FileType: Text(Last(FirstN(Split(
                                                    file.Name,
                                                    "_"
                                                ), 2)).Value),
                                                FolderName: "InProgress"
                                            }
                                        ), Last(FirstN(Split(ThisRecord.FileName, "_"), 1)).Value = warehouseCode)
                                    )
                                }
                            );
                            UpdateContext({filteredFiles: XMLFiles});
                            If(
                                Not(dd_Status.Selected.Id = "All"),
                                UpdateContext(
                                    {
                                        filteredFiles: Filter(
                                            filteredFiles,
                                            dd_Status.Selected.Id = ThisRecord.FolderName
                                        )
                                    }
                                )
                            );
                            If(
                                Not(dd_FileType.Selected.Id = "0"),
                                UpdateContext(
                                    {
                                        filteredFiles: Filter(
                                            filteredFiles,
                                            dd_FileType.Selected.Id = ThisRecord.FileType
                                        )
                                    }
                                )
                            );
                            UpdateContext({IsLoadingGetAllFiles: false});
                        PaddingBottom: =2
                        PaddingLeft: =2
                        PaddingRight: =2
                        PaddingTop: =2
                        Width: =40
                        X: =303
                        ZIndex: =3

                "gl_XMLFiles As gallery.'BrowseLayout_Vertical_OneTextVariant_ver5.0'":
                    AlignInContainer: =AlignInContainer.SetByContainer
                    BorderColor: =App.Theme.Colors.Darker40
                    DelayItemLoading: =true
                    FillPortions: =7
                    Height: =321
                    Items: =filteredFiles
                    Layout: =Layout.Vertical
                    LayoutMinHeight: =287
                    LayoutMinWidth: =320
                    LoadingSpinner: =LoadingSpinner.Data
                    OnSelect: |-
                        =Switch(
                            Parent.Selected.FileType,
                            "01",
                            Navigate(scr_XMLTemeljniceInventure),
                            "02",
                            Navigate(scr_XMLNabavniNalog),
                            "03",
                            Navigate(scr_XMLNalogZaProdaju),
                            "04",
                            Navigate(scr_XMLNalogZaPrenos),
                            "05",
                            Navigate(scr_XMLPrimke),
                            "06",
                            Navigate(scr_XMLOtpremnice)
                        );
                        Set(SelectedFile, Substitute(ThisItem.FileName, ".xml", ""));
                        Set(SelectedFolder, ThisItem.FolderName);
                    TemplatePadding: =0
                    TemplateSize: =80
                    Visible: =!IsLoadingGetAllFiles
                    X: =40
                    ZIndex: =2

                    Title4 As label:
                        Color: =RGBA(50, 49, 48, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =ThisItem.FileName
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.TemplateWidth - 86
                        X: =16
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =1

                    NextArrow4 As icon.ChevronRight:
                        AccessibleLabel: =Self.Tooltip
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(166, 166, 166, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(244, 244, 244, 1)
                        Height: =50
                        Icon: =Icon.ChevronRight
                        OnSelect: |-
                            =Select(Parent);
                            Switch(
                                Parent.Selected.FileType,
                                "01",
                                Navigate(scr_XMLTemeljniceInventure),
                                "02",
                                Navigate(scr_XMLNabavniNalog),
                                "03",
                                Navigate(scr_XMLNalogZaProdaju),
                                "04",
                                Navigate(scr_XMLNalogZaPrenos),
                                "05",
                                Navigate(scr_XMLPrimke),
                                "06",
                                Navigate(scr_XMLOtpremnice)
                            );
                            Set(SelectedFile, Substitute(ThisItem.FileName, ".xml", ""));
                            Set(SelectedFolder, ThisItem.FolderName);
                        PaddingBottom: =12
                        PaddingLeft: =12
                        PaddingRight: =12
                        PaddingTop: =12
                        Tooltip: ="View item details"
                        Width: =50
                        X: =Parent.TemplateWidth - Self.Width - 12
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =2

                    Separator5 As rectangle:
                        BorderColor: =App.Theme.Colors.Darker40
                        Fill: =RGBA(255, 255, 255, 1)
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =3

                    Rectangle9 As rectangle:
                        BorderColor: =App.Theme.Colors.Darker40
                        Fill: =App.Theme.Colors.Darker30
                        Height: =Parent.TemplateHeight - Separator5.Height
                        OnSelect: =Select(Parent)
                        Visible: =ThisItem.IsSelected
                        Width: =4
                        ZIndex: =4

                spn_EntryLoader As Spinner:
                    Appearance: ='Spinner.Appearance'.Primary
                    BasePaletteColor: =RGBA(249, 83, 109, 1)
                    DisplayMode: =DisplayMode.Edit
                    FillPortions: =1
                    FontColor: =
                    Height: =200
                    LayoutMinHeight: =200
                    LayoutMinWidth: =200
                    SpinnerSize: ='Spinner.SpinnerSize'.Huge
                    Visible: =IsLoadingGetAllFiles
                    Width: =200
                    X: =0
                    Y: =0
                    ZIndex: =3

