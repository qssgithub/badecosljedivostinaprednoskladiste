"scr_XMLTemeljniceInventure As screen.'autoLayout_HeaderFooter_ver1.0'":
    Fill: =RGBA(234, 83, 109, 1)
    LoadingSpinnerColor: =App.Theme.Colors.Primary
    OnHidden: |
        =Clear(colLines);
        Set(
            SelectedFile,
            Blank()
        );
        Set(
            SelectedFolder,
            Blank()
        );
    OnVisible: |
        =Set(
            isLoading,
            true
        );
        If(
            !IsBlank(SelectedFile),
            IfError(
                UpdateContext(
                    {
                        xmlData: (ParseJSON(
                            GetXml.Run(
                                SelectedFile,
                                SelectedFolder
                            ).response
                        ).Lines )
                    }
                ),
                Notify(
                    "Greška u obradi.",
                    NotificationType.Error,
                    2000
                )
            )
        );
        ClearCollect(
            colLines,
            IfError(
                ForAll(
                    xmlData.Item_Journal_Line As line,
                    {
                        Journal_Template_Name: Text(line.Journal_Template_Name),
                        Journal_Batch_Name: Text(line.Journal_Batch_Name),
                        'Line_No.': Text(line.'Line_No.'),
                        'Document_No.': Text(line.'Document_No.'),
                        Description: Text(line.Description),
                        Source_Type: Text(line.Source_Type),
                        'Source_No.': Text(line.'Source_No.'),
                        Source_Code: Text(line.Source_Code),
                        'Item_No.': Text(line.'Item_No.'),
                        'Phys._Inventory': Text(line.'Phys._Inventory'),
                        Location_Code: Text(line.Location_Code),
                        Posting_Date: Text(line.Posting_Date),
                        Document_Date: Text(line.Document_Date),
                        Sales_Price: Text(line.Sales_Price),
                        Qty_Calculated: Text(line.Qty_Calculated),
                        Qty_Calculated_Ext: Text(line.Qty_Calculated_Ext),
                        Quantity: Text(line.Quantity),
                        Entry_Type: Text(line.Entry_Type),
                        Qty_Phys_Inventory: Text(line.Qty_Phys_Inventory),
                        Qty_Phys_Inventory_Ext: Text(line.Qty_Phys_Inventory_Ext),
                        Gen_Bus_Posting_Group: Text(line.Gen_Bus_Posting_Group),
                        Lot_No: Text(line.Lot_No),
                        Item_Expiration_Date: Text(line.Item_Expiration_Date),
                        Barcode: Text(line.Barcode)
                    }
                ),
                {
                    Journal_Template_Name: Text(xmlData.Item_Journal_Line.Journal_Template_Name),
                    Journal_Batch_Name: Text(xmlData.Item_Journal_Line.Journal_Batch_Name),
                    'Line_No.': Text(xmlData.Item_Journal_Line.'Line_No.'),
                    'Document_No.': Text(xmlData.Item_Journal_Line.'Document_No.'),
                    Description: Text(xmlData.Item_Journal_Line.Description),
                    Source_Type: Text(xmlData.Item_Journal_Line.Source_Type),
                    'Source_No.': Text(xmlData.Item_Journal_Line.'Source_No.'),
                    Source_Code: Text(xmlData.Item_Journal_Line.Source_Code),
                    'Item_No.': Text(xmlData.Item_Journal_Line.'Item_No.'),
                    'Phys._Inventory': Text(xmlData.Item_Journal_Line.'Phys._Inventory'),
                    Location_Code: Text(xmlData.Item_Journal_Line.Location_Code),
                    Posting_Date: Text(xmlData.Item_Journal_Line.Posting_Date),
                    Document_Date: Text(xmlData.Item_Journal_Line.Document_Date),
                    Sales_Price: Text(xmlData.Item_Journal_Line.Sales_Price),
                    Qty_Calculated: Text(xmlData.Item_Journal_Line.Qty_Calculated),
                    Qty_Calculated_Ext: Text(xmlData.Item_Journal_Line.Qty_Calculated_Ext),
                    Quantity: Text(xmlData.Item_Journal_Line.Quantity),
                    Entry_Type: Text(xmlData.Item_Journal_Line.Entry_Type),
                    Qty_Phys_Inventory: Text(xmlData.Item_Journal_Line.Qty_Phys_Inventory),
                    Qty_Phys_Inventory_Ext: Text(xmlData.Item_Journal_Line.Qty_Phys_Inventory_Ext),
                    Gen_Bus_Posting_Group: Text(xmlData.Item_Journal_Line.Gen_Bus_Posting_Group),
                    Lot_No: Text(xmlData.Item_Journal_Line.Lot_No),
                    Item_Expiration_Date: Text(xmlData.Item_Journal_Line.Item_Expiration_Date),
                    Barcode: Text(xmlData.Item_Journal_Line.Barcode)
                }
            )
        );
        If(
            SelectedFolder = ReadyForProcessing,
            ChangeXmlStatus.Run(
                SelectedFile,
                SelectedFolder,
                InProgress
            );
            Set(
                SelectedFolder,
                InProgress
            )
        );
        If(
            IsEmpty(
                Filter(
                    lockedItems,
                    ThisRecord.documentId = SelectedDocumentName
                )
            ),
            Collect(
                lockedItems,
                ForAll(
                    colLines As line,
                    {
                        documentId: SelectedDocumentName,
                        lineId: line.'Line_No.',
                        isLocked: false
                    }
                )
            )
        );
        Set(
            isLoading,
            false
        );

    con_InvModalFade As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(0, 0, 0, 50%)
        Height: =Parent.Height
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Visible: =false
        Width: |
            =Parent.Width
        ZIndex: =1

        vrt_InvModal As groupContainer.verticalAutoLayoutContainer:
            DropShadow: =DropShadow.ExtraBold
            Fill: =RGBA(255, 255, 255, 1)
            Height: =300
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutDirection: =LayoutDirection.Vertical
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: =300
            X: =(Parent.Width - Self.Width) / 2
            Y: =(Parent.Height - Self.Height) / 2
            ZIndex: =2

            con_InvModalHeader As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.Light
                Fill: =RGBA(189, 49, 51, 1)
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =40
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =5
                PaddingRight: =5
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =1

                txt_InvModalHeader As Text:
                    Align: ='TextCanvas.Align'.Center
                    AutoHeight: =true
                    DisplayMode: =DisplayMode.Edit
                    FillPortions: =1
                    FontColor: =RGBA(255, 255, 255, 1)
                    Height: =32
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    Size: =32
                    Text: ="Unesite podatke"
                    Width: =96
                    X: =0
                    Y: =0
                    ZIndex: =1

                btn_IvnModalClose As Button:
                    Align: =Align.Justify
                    Appearance: ='ButtonCanvas.Appearance'.Transparent
                    BasePaletteColor: =
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =RGBA(255, 255, 255, 1)
                    FontSize: =32
                    Height: |
                        =32
                    Icon: ="DismissCircle"
                    IconStyle: ='ButtonCanvas.IconStyle'.Outline
                    Layout: ='ButtonCanvas.Layout'.IconOnly
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: |-
                        =Reset(inp_InvQuantity);
                        Set(isModalOpen, false);
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: ="Zatvori"
                    Width: =32
                    X: =40
                    Y: =40
                    ZIndex: =2

            vrt_InvModalBody As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.Light
                FillPortions: =3
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =15
                PaddingLeft: =15
                PaddingRight: =15
                PaddingTop: =15
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =3

                hrz_InvLOTNo As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                    LayoutMinHeight: =30
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingBottom: =15
                    PaddingTop: =15
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    Visible: =IsBlank(glr_Inv.Selected.Lot_No)
                    ZIndex: =1

                    txt_InvLOTNo As Text:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.Edit
                        FillPortions: =1
                        Height: =32
                        LayoutMinHeight: =32
                        LayoutMinWidth: =96
                        Text: ="LOT"
                        Width: =96
                        X: =40
                        Y: =40
                        ZIndex: =1

                    "inp_InvLOTNo As 'Text input'":
                        Align: ='TextInputCanvas.Align'.End
                        BasePaletteColor: =
                        DisplayMode: =DisplayMode.Edit
                        FontSize: =14
                        Height: =32
                        LayoutMinHeight: =32
                        LayoutMinWidth: =320
                        OnChange: =
                        Placeholder: ="Unesite broj LOT-a"
                        Required: =true
                        Type: ="Text"
                        Value: =glr_Inv.Selected.Lot_No
                        Width: =100
                        X: =40
                        Y: =40
                        ZIndex: =2

                hrz_InvQuantity As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                    LayoutMinHeight: =30
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingBottom: =15
                    PaddingTop: =15
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =2

                    txt_InvQuantity As Text:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.Edit
                        FillPortions: =1
                        Height: =32
                        LayoutMinHeight: =32
                        LayoutMinWidth: =96
                        Text: ="Popisana količina"
                        Width: =96
                        X: =40
                        Y: =40
                        ZIndex: =1

                    "inp_InvQuantity As 'Text input'":
                        Align: ='TextInputCanvas.Align'.End
                        BasePaletteColor: =
                        DisplayMode: =DisplayMode.Edit
                        FontSize: =14
                        Height: =32
                        LayoutMinHeight: =32
                        LayoutMinWidth: =320
                        OnChange: =
                        Placeholder: ="Unesite količinu..."
                        Required: =true
                        Type: ="Text"
                        Value: =glr_Inv.Selected.Qty_Phys_Inventory
                        Width: =100
                        X: =40
                        Y: =40
                        ZIndex: =2

            hrz_InvModalFooter As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.Light
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutGap: =10
                LayoutJustifyContent: =LayoutJustifyContent.End
                LayoutMinHeight: =40
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =20
                PaddingLeft: =10
                PaddingRight: =10
                PaddingTop: =20
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =4

                btn_InvModalSave As Button:
                    BasePaletteColor: =
                    DisplayMode: =DisplayMode.Edit
                    Height: =32
                    Icon: ="Save"
                    Layout: ='ButtonCanvas.Layout'.IconAfter
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: |
                        =/*If(
                            IsBlank(glr_Inv.Selected.Lot_No),
                            UpdateIf(
                                inventureCollection,
                                ThisRecord.'Line_No.' = glr_Inv.Selected.'Line_No.',
                                {
                                    Lot_No: Text(inp_InvLOTNo.Value),
                                    Qty_Phys_Inventory: Value(inp_InvQuantity.Value)
                                }
                            ),
                            UpdateIf(
                                inventureCollection,
                                ThisRecord.'Line_No.' = glr_Inv.Selected.'Line_No.',
                                {Qty_Phys_Inventory: Value(inp_InvQuantity.Value)}
                            )
                        );
                        ClearCollect(
                            inventureCollectionEdited,
                            inventureCollection
                        );
                        ClearCollect(
                            inventureCollection,
                            inventureCollectionEdited
                        );
                        Clear(inventureCollectionEdited);*/
                        Reset(inp_InvQuantity);
                        UpdateIf(
                            lockedItems,
                            ThisRecord.lineId = glr_Inv.Selected.'Line_No.',
                            {isLocked: true}
                        );
                        Set(
                            isModalOpen,
                            false
                        );
                    Text: ="Spasi"
                    Width: =96
                    X: =0
                    Y: =0
                    ZIndex: =2

    vrt_Inv As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =Parent.Width
        ZIndex: =2

        com_InvHeader As com_Header:
            BackToScreen: =scr_Entry
            IsMobile: =isMobile
            LayoutMinHeight: =640
            LayoutMinWidth: =250
            Title: ="TEMELJNICE INVENTURE"

        con_InvBody As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.Light
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutDirection: =LayoutDirection.Vertical
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowY: =LayoutOverflow.Scroll
            ZIndex: =3

            Container4 As groupContainer.horizontalAutoLayoutContainer:
                FillPortions: =0
                Height: =50
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =50
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =5
                PaddingLeft: =5
                PaddingRight: =5
                PaddingTop: =5
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =1

                txt_InvDocumentName As Text:
                    Align: ='TextCanvas.Align'.Start
                    AutoHeight: =true
                    DisplayMode: =DisplayMode.Edit
                    FillPortions: =1
                    Height: =Parent.Height
                    LayoutMinHeight: =40
                    LayoutMinWidth: =50
                    PaddingBottom: =0
                    PaddingLeft: =8
                    PaddingRight: =8
                    PaddingTop: =0
                    Size: =14
                    Text: ="Stavke dokumenta " & SelectedDocumentName
                    Width: =Parent.Width
                    Wrap: =true
                    X: =0   
                    Y: =0
                    ZIndex: =1

                "bcr_Inv_1 As 'Barcode Reader'":
                    BarcodeType: ='BarcodeReader.BarcodeType'.Code128
                    BorderFillColor: =RGBA(0, 0, 0, 1)
                    BorderRadius: =10
                    BorderThickness: =1
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledContentColor: =RGBA(166, 166, 166, 1)
                    DisabledFillColor: =RGBA(244, 244, 244, 1)
                    DisplayMode: =DisplayMode.Edit
                    FillColor: =RGBA(255, 255, 255, 1)
                    FontSize: =12
                    Height: =35
                    HoverBorderColor: =RGBA(189, 49, 51, 1)
                    HoverContentColor: =RGBA(255, 255, 255, 1)
                    HoverFillColor: =RGBA(189, 49, 51, 1)
                    LayoutMinHeight: =35
                    LayoutMinWidth: =80
                    OnCancel: =false
                    OnScan: |-
                        =Set(
                            ScannedItem,
                            First(Self.Barcodes).Value
                        )
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    PressedBorderColor: =RGBA(189, 49, 51, 1)
                    PressedContentColor: =RGBA(189, 49, 51, 1)
                    PressedFillColor: =RGBA(255, 255, 255, 1)
                    ScanningMode: ='BarcodeReader.ScanningMode'.AutomaticallyScan
                    Text: ="Skener"
                    TextAlignment: =Align.Center
                    TextColor: =RGBA(0, 0, 0, 1)
                    VerticalAlign: =VerticalAlign.Middle
                    Visible: =isMobile
                    Width: =80
                    X: =40
                    Y: =15
                    ZIndex: =2

            "glr_Inv As gallery.'BrowseLayout_Vertical_ThreeTextVariant_ver5.0'":
                AlignInContainer: =AlignInContainer.SetByContainer
                BorderColor: =App.Theme.Colors.Darker40
                Default: |-
                    =LookUp(
                        colLines,
                        Barcode = ScannedItem,
                        ThisRecord
                    )
                DelayItemLoading: =true
                Fill: =RGBA(237, 237, 237, 1)
                Height: =562
                Items: =colLines
                Layout: =Layout.Vertical
                LayoutMinHeight: =Self.TemplateHeight * Self.AllItemsCount
                LayoutMinWidth: =320
                LoadingSpinner: =LoadingSpinner.Data
                OnSelect: |
                    =If(
                        !First(
                            Filter(
                                lockedItems,
                                documentId = SelectedDocumentName,
                                lineId = glr_Inv.Selected.'Line_No.'
                            )
                        ).isLocked,
                        Set(
                            isModalOpen,
                            true
                        );
                        Set(
                            QuantityCompleted,
                            Value(glr_Inv.Selected.Qty_Phys_Inventory)
                        );
                        Set(
                            LotNo,
                            glr_Inv.Selected.Lot_No
                        );
                        
                    );
                    Set(
                        ScannedItem,
                        Blank()
                    );
                TemplateFill: =If(Self.IsSelected, RGBA(250, 250, 250, 1), RGBA(245, 245, 245, 1))
                TemplatePadding: =0
                TemplateSize: =291
                Visible: =!isLoading
                Width: =Parent.Width
                ZIndex: =3

                Icon2 As icon.Check:
                    BorderColor: =App.Theme.Colors.Darker40
                    Color: =App.Theme.Colors.Darker30
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(244, 244, 244, 1)
                    Height: =32
                    Icon: =Icon.Check
                    OnSelect: =Select(Parent)
                    Visible: =LookUp(Filter(lockedItems, ThisRecord.documentId = SelectedDocumentName), lineId = ThisItem.'Line_No.', isLocked)
                    Width: =32
                    X: =Parent.TemplateWidth - 90
                    Y: =lbl_InvBarcode.Y
                    ZIndex: =3

                rct_InvSeparator As rectangle:
                    BorderColor: =App.Theme.Colors.Darker40
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =8
                    OnSelect: =Select(Parent)
                    Width: =Parent.TemplateWidth
                    Y: =Parent.TemplateHeight - Self.Height
                    ZIndex: =4

                rct_Inv As rectangle:
                    BorderColor: =App.Theme.Colors.Darker40
                    Fill: =App.Theme.Colors.Darker30
                    Height: =Parent.TemplateHeight - rct_InvSeparator.Height
                    OnSelect: =Select(Parent)
                    Visible: =ThisItem.IsSelected
                    Width: =4
                    ZIndex: =5

                icn_InvAdd As icon.AddDocument:
                    BorderColor: =App.Theme.Colors.Darker40
                    Color: =App.Theme.Colors.Darker30
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(244, 244, 244, 1)
                    Height: =32
                    Icon: =Icon.AddDocument
                    OnSelect: |
                        =UpdateContext({newResEntryLineNo: Text((CountRows(colLines) + 1) * 10000)});
                        Collect(
                            colLines,
                            {
                                Journal_Template_Name: ThisItem.Journal_Template_Name,
                                Journal_Batch_Name: ThisItem.Journal_Batch_Name,
                                'Line_No.': newResEntryLineNo,
                                'Document_No.': ThisItem.'Document_No.',
                                Description: ThisItem.Description,
                                Source_Type: ThisItem.Source_Type,
                                'Source_No.': ThisItem.'Source_No.',
                                Source_Code: ThisItem.Source_Code,
                                Item_No: ThisItem.Item_No,
                                'Phys._Inventory': ThisItem.'Phys._Inventory',
                                Location_Code: ThisItem.Location_Code,
                                Posting_Date: ThisItem.Posting_Date,
                                Document_Date: ThisItem.Document_Date,
                                Sales_Price: ThisItem.Sales_Price,
                                Qty_Calculated: Text(0),
                                Qty_Calculated_Ext: Text(0),
                                Quantity: Text(0),
                                Entry_Type: ThisItem.Entry_Type,
                                Qty_Phys_Inventory: Text(0),
                                Qty_Phys_Inventory_Ext: Text(0),
                                Gen_Bus_Posting_Group: ThisItem.Gen_Bus_Posting_Group,
                                Lot_No: Blank(),
                                Item_Expiration_Date: ThisItem.Item_Expiration_Date,
                                Barcode: ThisItem.Barcode
                            }
                        );
                    Width: =32
                    X: =Parent.TemplateWidth - 50
                    Y: =lbl_InvBarcode.Y
                    ZIndex: =10

                grp_InvBarcode As group:
                    Height: =5
                    Width: =5
                    X: =60
                    Y: =60
                    ZIndex: =21

                    lbl_InvBarcode As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =22
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =lbl_InvItemNo.PaddingLeft
                        PaddingRight: =lbl_InvItemNo.PaddingRight
                        PaddingTop: =0
                        Size: =12
                        Text: |-
                            ="Barcode:"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =lbl_InvItemNo.Width
                        X: =lbl_InvItemNo.X
                        Y: =lbl_InvQuantity.Height + lbl_InvQuantity.Y + 25
                        ZIndex: =9

                    lbl_InvBarcodeValue As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =22
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =12
                        Text: =ThisItem.Barcode
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.TemplateWidth - lbl_ItemNo.Width * 2
                        X: =lbl_InvBarcode.Width
                        Y: =lbl_InvBarcode.Y
                        ZIndex: =11

                grp_InvQuantity As group:
                    Height: =5
                    Width: =5
                    X: =80
                    Y: =80
                    ZIndex: =22

                    lbl_InvQuantity As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =lbl_InvItemNo.PaddingRight
                        PaddingRight: =lbl_InvItemNo.PaddingRight
                        PaddingTop: =0
                        Size: =12
                        Text: |-
                            ="Količina:"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =lbl_InvItemNo.Width
                        X: =lbl_InvItemNo.X
                        Y: =lbl_InvExpDate.Height + lbl_InvExpDate.Y + 25
                        ZIndex: =8

                    lbl_InvQuantityValue As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =12
                        Text: =ThisItem.Qty_Phys_Inventory
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.TemplateWidth - lbl_ItemNo.Width * 2
                        X: =lbl_InvQuantity.Width
                        Y: =lbl_InvQuantity.Y
                        ZIndex: =12

                grp_InvItemNo As group:
                    Height: =5
                    Width: =5
                    X: =160
                    Y: =160
                    ZIndex: =26

                    lbl_InvItemNo As label:
                        AutoHeight: =true
                        Color: =RGBA(50, 49, 48, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =22
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =20
                        PaddingRight: =20
                        PaddingTop: =0
                        Size: =12
                        Text: |-
                            ="Broj artikla:"
                        VerticalAlign: =VerticalAlign.Top
                        Y: =18
                        ZIndex: =1

                    lbl_InvItemNoValue As label:
                        Align: =Align.Justify
                        AutoHeight: =true
                        Color: =RGBA(50, 49, 48, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =22
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =12
                        Text: =ThisItem.'Item_No.'
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.TemplateWidth - lbl_ItemNo.Width * 2
                        X: =lbl_InvItemNo.Width
                        Y: =lbl_InvItemNo.Y
                        ZIndex: =16

                grp_InvDescription As group:
                    Height: =5
                    Width: =5
                    X: =160
                    Y: =160
                    ZIndex: =26

                    lbl_InvDescription As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =22
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =lbl_InvItemNo.PaddingLeft
                        PaddingRight: =lbl_InvItemNo.PaddingRight
                        PaddingTop: =0
                        Size: =12
                        Text: |-
                            ="Naziv artikla:"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =lbl_InvItemNo.Width
                        X: =lbl_InvItemNo.X
                        Y: =lbl_InvItemNo.Height + lbl_InvItemNo.Y + 25
                        ZIndex: =2

                    lbl_InvDescriptionValue As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =22
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =12
                        Text: =ThisItem.Description
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.TemplateWidth - lbl_ItemNo.Width * 2
                        X: =lbl_InvDescription.Width
                        Y: =lbl_InvDescription.Y
                        ZIndex: =15

                grp_InvLOTNo As group:
                    Height: =5
                    Width: =5
                    X: =160
                    Y: =160
                    ZIndex: =26

                    lbl_InvLOTNo As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =18
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =lbl_InvItemNo.PaddingLeft
                        PaddingRight: =lbl_InvItemNo.PaddingRight
                        PaddingTop: =0
                        Size: =12
                        Text: |-
                            ="LOT:"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =lbl_InvItemNo.Width
                        Y: =lbl_InvDescription.Height + lbl_InvDescription.Y + 25
                        ZIndex: =6

                    lbl_InvLOTNoValue As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =18
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =12
                        Text: =ThisItem.Lot_No
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.TemplateWidth - lbl_ItemNo.Width * 2
                        X: =lbl_InvLOTNo.Width
                        Y: =lbl_InvLOTNo.Y
                        ZIndex: =14

                grp_InvExpDate As group:
                    Height: =5
                    Width: =5
                    X: =160
                    Y: =160
                    ZIndex: =26

                    lbl_InvExpDate As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =lbl_InvItemNo.PaddingLeft
                        PaddingRight: =lbl_InvItemNo.PaddingRight
                        PaddingTop: =0
                        Size: =12
                        Text: |-
                            ="Rok trajanja:"
                        VerticalAlign: =VerticalAlign.Top
                        Width: =lbl_InvItemNo.Width
                        Y: =lbl_InvLOTNo.Height + lbl_InvLOTNo.Y + 25
                        ZIndex: =7

                    lbl_InvExpDateValue As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =12
                        Text: =ThisItem.Item_Expiration_Date
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.TemplateWidth - lbl_ItemNo.Width * 2
                        X: =lbl_InvExpDate.Width
                        Y: =lbl_InvExpDate.Y
                        ZIndex: =13

            spn_InvLoader As Spinner:
                BasePaletteColor: =
                DisplayMode: =DisplayMode.Edit
                FillPortions: =1
                FontColor: =
                Height: =200
                LayoutMinHeight: =200
                LayoutMinWidth: =200
                SpinnerSize: ='Spinner.SpinnerSize'.Huge
                Visible: =isLoading
                Width: =200
                X: =0
                Y: =0
                ZIndex: =4

        hrz_InvFooter As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            BorderColor: =RGBA(233, 79, 76, 1)
            DropShadow: =DropShadow.Light
            Fill: =RGBA(237, 237, 237, 1)
            FillPortions: =0
            Height: =50
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =50
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =15
            PaddingRight: =20
            Width: =Max(App.Width, App.MinScreenWidth)
            ZIndex: =4

            chb_InvReadyForNav As Checkbox:
                BasePaletteColor: =RGBA(249, 83, 109, 1)
                CheckboxSize: =16
                DisplayMode: =If(!isLoading, DisplayMode.Edit, DisplayMode.Disabled)
                FontColor: =
                FontSize: =14
                FontWeight: =FontWeight.Bold
                Height: =Parent.Height
                Label: ="NAV"
                LayoutMinHeight: =32
                LayoutMinWidth: =160
                OnCheck: =false
                OnUncheck: =false
                Width: =75
                X: =0
                Y: =0
                ZIndex: =2

            btn_InvSave As Button:
                Align: =Align.Justify
                BasePaletteColor: =
                DisplayMode: =If(isLoading, DisplayMode.Disabled, DisplayMode.Edit)
                Height: =32
                Layout: ='ButtonCanvas.Layout'.TextOnly
                LayoutMinHeight: =32
                LayoutMinWidth: =96
                OnSelect: |
                    =Set(
                        isLoading,
                        true
                    );
                    IfError(
                        GetXml.Run(
                            SelectedFile,
                            ReadyForProcessing
                        ),
                        IfError(
                            UpdateXML.Run(
                                "{" & Char(34) & "Lines" & Char(34) & ": " & "{" & Char(34) & "Item_Journal_Line" & Char(34) & ":" & JSON(colLines) & "}" & "}",
                                SelectedFile,
                                SelectedFolder
                            ),
                            Notify(
                                "Došlo je do greške!",
                                NotificationType.Error,
                                2000
                            ),
                            Notify(
                                "Uspješno ažuriranje!",
                                NotificationType.Success
                            );
                            If(
                                chb_InvReadyForNav.Checked,
                                ChangeXmlStatus.Run(
                                    SelectedFile,
                                    SelectedFolder,
                                    ReadyForNAVProcessing
                                );
                                SaveData(
                                    Filter(
                                        lockedItems,
                                        ThisRecord.documentId <> SelectedDocumentName
                                    ),
                                    "lockedItems"
                                );
                                Navigate(
                                    scr_Entry,
                                    ScreenTransition.Fade
                                ),
                                SaveData(
                                    lockedItems,
                                    "lockedItems"
                                );
                            )
                        ),
                        Set(
                            SelectedFolder,
                            ReadyForProcessing
                        );
                        Notify(
                            "Postoje izmjene u ovom fajlu.",
                            NotificationType.Information,
                            2000
                        );
                        Navigate(
                            scr_XMLTemeljniceInventure,
                            ScreenTransition.Fade
                        )
                    );
                    Set(
                        isLoading,
                        false
                    );
                Text: ="Sačuvaj"
                Width: =96
                X: =0
                Y: =0
                ZIndex: =4

    com_InvModal As com_Modal:
        IsInventura: =true
        LineId: =glr_Inv.Selected.'Line_No.'
        ResEntryId: =
        Visible: =isModalOpen
        ZIndex: =3

