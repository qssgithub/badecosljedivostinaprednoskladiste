"scr_Entry As screen.'autoLayout_Sidebar_ver1.0'":
    Fill: =RGBA(45, 128, 40, 1)
    LoadingSpinnerColor: =App.Theme.Colors.Primary
    OnHidden: =
    OnVisible: |-
        =Set(
            isLoading,
            true
        );
        Set(
            SelectedDocumentName,
            Blank()
        );
        Set(
            SelectedFile,
            Blank()
        );
        Set(
            SelectedQueue,
            Blank()
        );
        Set(
            isModalOpen,
            false
        );
        Set(
            wizardStep,
            1
        );
        Clear(colLines);
        Clear(colEntries);
        Clear(lockedItems);
        IfError(
            LoadData(
                lockedItems,
                "lockedItems",
                true
            ),
            true
        );
        UpdateContext(
            {
                documents: ForAll(
                    ParseJSON(
                        GetAll.Run(
                            dd_EntryStatus.Selected.Id,
                            dd_EntryFileType.Selected.Id
                        ).outputfiles
                    ),
                    {
                        FileName: Text(ThisRecord.fileName),
                        DocumentType: Text(ThisRecord.documentType),
                        DocumentName: Text(ThisRecord.documentName),
                        QueueName: Text(ThisRecord.queueName)
                    }
                )
            }
        );
        Set(
            isLoading,
            false
        );
        Set(Counter, 0);
        Set(Prelot, false);

    vrt_Entry As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
        LayoutMode: =LayoutMode.Auto
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =Parent.Width
        ZIndex: =1

        com_EntryHeader As com_Header:
            ChildTabPriority: =
            Height: =75
            IsEntryScreen: =true
            LayoutMinHeight: =75
            LayoutMinWidth: =350
            Title: ="BADECO SLJEDIVOST I NAPREDNO SKLADIŠTE"
            ZIndex: =2

        vrt_EntryBody As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.Light
            Height: =Parent.Height
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =15
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =200
            LayoutMinWidth: =App.Width
            LayoutMode: =LayoutMode.Auto
            PaddingBottom: =10
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =10
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: =Parent.Width
            ZIndex: =3

            hrz_EntryDropdown As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =If(isMobile, 240, 80)
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =If(isMobile, LayoutDirection.Vertical, LayoutDirection.Horizontal)
                LayoutGap: =10
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =80
                LayoutMinWidth: =350
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =1

                vrt_EntryStatus As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: =Parent.Height
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutGap: =5
                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                    LayoutMinHeight: =50
                    LayoutMinWidth: =50
                    LayoutMode: =LayoutMode.Auto
                    PaddingBottom: =2
                    PaddingLeft: =2
                    PaddingRight: =2
                    PaddingTop: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =1

                    txt_EntryStatus As Text:
                        AutoHeight: =true
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =32
                        LayoutMinHeight: =32
                        LayoutMinWidth: =96
                        Text: ="Status dokumenta"
                        Width: =14
                        X: =0
                        Y: =0
                        ZIndex: =1

                    con_EntryStatus As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DropShadow: =DropShadow.Light
                        LayoutMinHeight: =50
                        LayoutMinWidth: =50
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        ZIndex: =3

                        dd_EntryStatus As Dropdown.pcfdataset:
                            BorderStyle: =""
                            DefaultSelectedItems: |-
                                ={Id: 0, Text: "Svi statusi"}
                            DisplayMode: =DisplayMode.Edit
                            Height: =Parent.Height
                            Items: |-
                                =[
                                    {
                                        Id: 0,
                                        Text: "Svi statusi"
                                    },
                                    {
                                        Id: 1,
                                        Text: "Za obradu"
                                    },
                                    {
                                        Id: 2,
                                        Text: "U obradi"
                                    }
                                ]
                            OnChange: |
                                =Set(
                                    isLoading,
                                    true
                                );
                                UpdateContext(
                                    {
                                        documents: ForAll(
                                            ParseJSON(
                                                GetAll.Run(
                                                    dd_EntryStatus.Selected.Id,
                                                    dd_EntryFileType.Selected.Id
                                                ).outputfiles
                                            ),
                                            {
                                                FileName: Text(ThisRecord.fileName),
                                                DocumentType: Text(ThisRecord.documentType),
                                                DocumentName: Text(ThisRecord.documentName),
                                                QueueName: Text(ThisRecord.queueName)
                                            }
                                        )
                                    }
                                );
                                Set(
                                    isLoading,
                                    false
                                );
                            Width: =Parent.Width
                            X: =0
                            Y: =0
                            ZIndex: =2

                            inp_EntryStatus As PowerApps_CoreControls_DropdownCanvasTemplate_dataField.textualColumn:
                                FieldDisplayName: ="Text"
                                FieldName: ="Text"
                                FieldType: ="s"
                                FieldVariantName: ="textualColumn"
                                Order: =1
                                ZIndex: =14

                            id_EntryStatus As PowerApps_CoreControls_DropdownCanvasTemplate_dataField.textualColumn:
                                FieldDisplayName: ="Id"
                                FieldName: ="Id"
                                FieldType: ="s"
                                FieldVariantName: ="textualColumn"
                                Order: =2
                                ZIndex: =16

                vrt_EntryFileType As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: =Parent.Height
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutGap: =5
                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                    LayoutMinHeight: |
                        =50
                    LayoutMinWidth: =50
                    LayoutMode: =LayoutMode.Auto
                    PaddingBottom: =2
                    PaddingLeft: =2
                    PaddingRight: =2
                    PaddingTop: =2
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =2

                    txt_EntryFileType As Text:
                        AutoHeight: =true
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Height: =32
                        LayoutMinHeight: =32
                        LayoutMinWidth: =96
                        Text: ="Tip dokumenta"
                        Width: =96
                        X: =0
                        Y: =0
                        ZIndex: =1

                    con_EntryFileType As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DropShadow: =DropShadow.Light
                        Height: =Parent.Height
                        LayoutMinHeight: =50
                        LayoutMinWidth: =50
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width
                        ZIndex: =3

                        dd_EntryFileType As Dropdown.pcfdataset:
                            BorderStyle: =""
                            DefaultSelectedItems: |-
                                ={
                                    Id: 0,
                                    Text: "Svi tipovi"
                                }
                            DisplayMode: =DisplayMode.Edit
                            Height: =Parent.Height
                            Items: |-
                                =[
                                    {
                                        Id: 0,
                                        Text: "Svi tipovi"
                                    },
                                    {
                                        Id: 1,
                                        Text: "Temeljnice inventure"
                                    },
                                    {
                                        Id: 2,
                                        Text: "Nabavni nalozi"
                                    },
                                    {
                                        Id: 3,
                                        Text: "Prodajni nalozi"
                                    },
                                    {
                                        Id: 4,
                                        Text: "Nalozi za prenos"
                                    },
                                    {
                                        Id: 5,
                                        Text: "Skladišne primke"
                                    },
                                    {
                                        Id: 6,
                                        Text: "Skladišne otpremnice"
                                    },
                                    {
                                        Id: 7,
                                        Text: "Put-Away Request"
                                    },
                                    {
                                        Id: 8,
                                        Text: "Pick Request"
                                    },
                                    {
                                        Id: 9,
                                        Text: "Nalozi povrata"
                                    },
                                ]
                            OnChange: |
                                =Set(
                                    isLoading,
                                    true
                                );
                                UpdateContext(
                                    {
                                        documents: ForAll(
                                            ParseJSON(
                                                GetAll.Run(
                                                    dd_EntryStatus.Selected.Id,
                                                    dd_EntryFileType.Selected.Id
                                                ).outputfiles
                                            ),
                                            {
                                                FileName: Text(ThisRecord.fileName),
                                                DocumentType: Text(ThisRecord.documentType),
                                                DocumentName: Text(ThisRecord.documentName),
                                                QueueName: Text(ThisRecord.queueName)
                                            }
                                        )
                                    }
                                );
                                Set(
                                    isLoading,
                                    false
                                );
                            Width: =Parent.Width
                            X: =0
                            Y: =0
                            ZIndex: =2

                            inp_EntryFileType As PowerApps_CoreControls_DropdownCanvasTemplate_dataField.textualColumn:
                                FieldDisplayName: ="Text"
                                FieldName: ="Text"
                                FieldType: ="s"
                                FieldVariantName: ="textualColumn"
                                Order: =1
                                ZIndex: =15

                            id_EntryFileType As PowerApps_CoreControls_DropdownCanvasTemplate_dataField.textualColumn:
                                FieldDisplayName: ="Id"
                                FieldName: ="Id"
                                FieldType: ="s"
                                FieldVariantName: ="textualColumn"
                                Order: =2
                                ZIndex: =17

                btn_EntryReload As Button:
                    Align: =Align.Center
                    AlignInContainer: =AlignInContainer.End
                    Appearance: ='ButtonCanvas.Appearance'.Transparent
                    BorderStyle: =""
                    DisplayMode: =If(isLoading, DisplayMode.Disabled, DisplayMode.Edit)
                    FontSize: =40
                    Height: =dd_EntryFileType.Height
                    Icon: ="ArrowClockwise"
                    IconStyle: ='ButtonCanvas.IconStyle'.Filled
                    Layout: ='ButtonCanvas.Layout'.IconOnly
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: |
                        =Set(
                            isLoading,
                            true
                        );
                        UpdateContext(
                            {
                                documents: ForAll(
                                    ParseJSON(
                                        GetAll.Run(
                                            dd_EntryStatus.Selected.Id,
                                            dd_EntryFileType.Selected.Id
                                        ).outputfiles
                                    ),
                                    {
                                        FileName: Text(ThisRecord.fileName),
                                        DocumentType: Text(ThisRecord.documentType),
                                        DocumentName: Text(ThisRecord.documentName),
                                        QueueName: Text(ThisRecord.queueName)
                                    }
                                )
                            }
                        );
                        Set(
                            isLoading,
                            false
                        );
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: ="Osvježi"
                    Width: =32
                    X: =0
                    Y: =0
                    ZIndex: =4

            con_EntryData As groupContainer.manualLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.Light
                LayoutMinHeight: =200
                LayoutMinWidth: =350
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =4

                "glr_EntryXMLFiles As gallery.'BrowseLayout_Vertical_OneTextVariant_ver5.0'":
                    BorderColor: =App.Theme.Colors.Darker40
                    DelayItemLoading: =true
                    Height: =Parent.Height
                    Items: =documents
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    OnSelect: |
                        =Set(
                            isLoading,
                            true
                        );
                        Switch(
                            Parent.Selected.DocumentType,
                            "01",
                            Navigate(
                                scr_XMLTemeljniceInventure,
                                ScreenTransition.Fade
                            ),
                            "02",
                            Navigate(
                                scr_XMLNabavniNalog,
                                ScreenTransition.Fade
                            ),
                            "03",
                            Navigate(
                                scr_XMLNalogZaProdaju,
                                ScreenTransition.Fade
                            ),
                            "53",
                            Navigate(
                                scr_XMLNalogZaProdaju_1,
                                ScreenTransition.Fade
                            ),
                            "04",
                            Navigate(
                                scr_XMLNalogZaPrenos,
                                ScreenTransition.Fade
                            ),
                            "05",
                            Navigate(
                                scr_XMLPrimke,
                                ScreenTransition.Fade
                            ),
                            "06",
                            Navigate(
                                scr_XMLOtpremnice,
                                ScreenTransition.Fade
                            )
                        );
                        Set(
                            SelectedFile,
                            ThisItem.FileName
                        );
                        Set(
                            SelectedQueue,
                            ThisItem.QueueName
                        );
                        Set(
                            SelectedDocumentName,
                            ThisItem.DocumentName
                        );
                    TemplatePadding: =0
                    TemplateSize: =80
                    Visible: =!isLoading && !IsEmpty(documents)
                    Width: =Parent.Width
                    ZIndex: =1

                    lbl_EntryFileName As label:
                        Color: =RGBA(50, 49, 48, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 5
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =First(Split(Last(Split(ThisItem.FileName, "_")).Value, ".")).Value
                        Width: =Parent.TemplateWidth - 150
                        X: =16
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =1

                    icn_EntryNext As icon.ChevronRight:
                        AccessibleLabel: =Self.Tooltip
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(166, 166, 166, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(244, 244, 244, 1)
                        Height: =50
                        Icon: =Icon.ChevronRight
                        OnSelect: =Select(Parent)
                        PaddingBottom: =12
                        PaddingLeft: =12
                        PaddingRight: =12
                        PaddingTop: =12
                        Tooltip: ="View item details"
                        Visible: =false
                        Width: =50
                        X: =Parent.TemplateWidth - Self.Width - 12
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =2

                    rct_EntrySeparator As rectangle:
                        BorderColor: =App.Theme.Colors.Darker40
                        Fill: =RGBA(255, 255, 255, 1)
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =3

                    rct_Entry As rectangle:
                        BorderColor: =App.Theme.Colors.Darker40
                        Fill: =App.Theme.Colors.Darker30
                        Height: =Parent.TemplateHeight - rct_EntrySeparator.Height
                        OnSelect: =Select(Parent)
                        Visible: =ThisItem.IsSelected
                        Width: =4
                        ZIndex: =4

                    icn_EntryNext_1 As icon.ChevronRight:
                        AccessibleLabel: =Self.Tooltip
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(201, 128, 0, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =0
                        Height: =50
                        Icon: =Icon.Enhance
                        OnSelect: =Select(Parent)
                        PaddingBottom: =12
                        PaddingLeft: =12
                        PaddingRight: =12
                        PaddingTop: =12
                        Tooltip: ="View item details"
                        Visible: =ThisItem.QueueName = ReadyForProcessing
                        Width: =50
                        X: =Parent.TemplateWidth - Self.Width - 15
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =5

                spn_EntryLoader As Spinner:
                    Appearance: ='Spinner.Appearance'.Primary
                    BasePaletteColor: =
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =Parent.Height
                    Label: ="Učitavam dokumente..."
                    LabelPosition: ='Spinner.LabelPosition'.Below
                    SpinnerSize: ='Spinner.SpinnerSize'.Huge
                    Visible: =isLoading
                    Width: =Parent.Width
                    X: =0
                    Y: =0
                    ZIndex: =2

                txt_EntryNoData As Text:
                    Align: ='TextCanvas.Align'.Center
                    AutoHeight: =false
                    BorderStyle: =""
                    DisplayMode: =DisplayMode.Edit
                    Height: =Parent.Height
                    Size: =20
                    Text: ="Nema dokumenata..."
                    VerticalAlign: ='TextCanvas.VerticalAlign'.Top
                    Visible: =!isLoading && IsEmpty(documents)
                    Width: =Parent.Width
                    X: =0
                    Y: =0
                    ZIndex: =3

            hrz_EntryDropdown_1 As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =40
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =If(isMobile, LayoutDirection.Vertical, LayoutDirection.Horizontal)
                LayoutGap: =10
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =80
                LayoutMinWidth: =350
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =5

                Container3 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Light
                    LayoutMinHeight: =40
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =1

                    ButtonCanvas1 As Button:
                        DisplayMode: =DisplayMode.Edit
                        Height: =32
                        Icon: ="ArrowReset"
                        Layout: ='ButtonCanvas.Layout'.IconAfter
                        OnSelect: =Set(isModalOpen, true)
                        Text: ="Povrat"
                        Width: =105
                        X: =Parent.Width - ButtonCanvas1.Width
                        Y: =(Parent.Height - ButtonCanvas1.Height)/2
                        ZIndex: =1

    com_Modal_2 As com_Modal_1:
        Visible: =isModalOpen
        ZIndex: =2

