"scr_XMLNalogZaProdaju As screen.'autoLayout_HeaderFooter_ver1.0'":
    Fill: =RGBA(234, 83, 109, 1)
    LoadingSpinnerColor: =App.Theme.Colors.Primary
    OnHidden: =
    OnVisible: |
        =Set(
            isLoading,
            true
        );
        If(
            !IsBlank(SelectedFile),
            IfError(
                UpdateContext(
                    {
                        xmlData: (ParseJSON(
                            GetXml.Run(
                                SelectedFile,
                                SelectedFolder
                            ).response
                        ).Sales_Header)
                    }
                ),
                Notify(
                    "Greška u obradi.",
                    NotificationType.Error,
                    2000
                )
            )
        );
        UpdateContext(
            {
                header: {
                    Amount: Text(xmlData.Amount),
                    Amount_Including_VAT: Text(xmlData.Amount_Including_VAT),
                    Bank_Name: Text(xmlData.Bank_Name),
                    Bank_No: Text(xmlData.Bank_No),
                    'Bill-to_Contact_No.': Text(xmlData.'Bill-to_Contact_No.'),
                    'Bill-to_Address': Text(xmlData.'Bill-to_Address'),
                    'Bill-to_City': Text(xmlData.'Bill-to_City'),
                    'Bill-to_Contact': Text(xmlData.'Bill-to_Contact'),
                    'Bill-to_Cust_No': Text(xmlData.'Bill-to_Cust_No'),
                    'Bill-to_Name': Text(xmlData.'Bill-to_Name'),
                    'Bill-to_PostCode': Text(xmlData.'Bill-to_PostCode'),
                    Customer_Price_Group: Text(xmlData.Customer_Price_Group),
                    Document_Date: Text(xmlData.Document_Date),
                    Document_Type: Text(xmlData.Document_Type),
                    Due_Date: Text(xmlData.Due_Date),
                    Ext_Doc_No: Text(xmlData.Ext_Doc_No),
                    'Gen._Bus._Posting_Group': Text(xmlData.'Gen._Bus._Posting_Group'),
                    Location_Code: Text(xmlData.Location_Code),
                    'No.': Text(xmlData.'No.'),
                    Order_Date: Text(xmlData.Order_Date),
                    Payement_Disc: Text(xmlData.Payement_Disc),
                    Payement_Method_Code: Text(xmlData.Payement_Method_Code),
                    Payment_Terms_Code: Text(xmlData.Payment_Terms_Code),
                    Posting_Date: Text(xmlData.Posting_Date),
                    Pmt_Discount_Date: Text(xmlData.Pmt_Discount_Date),
                    Quote_No: Text(xmlData.Quote_No),
                    Salesperson_Code: Text(xmlData.Salesperson_Code),
                    'Sell-To_Contact_No.': Text(xmlData.'Sell-To_Contact_No.'),
                    'Sell-To_Customer_No.': Text(xmlData.'Sell-To_Customer_No.'),
                    'Sell-to_Address': Text(xmlData.'Sell-to_Address'),
                    'Sell-to_City': Text(xmlData.'Sell-to_City'),
                    'Sell-to_Contact': Text(xmlData.'Sell-to_Contact'),
                    'Sell-to_Customer_Name': Text(xmlData.'Sell-to_Customer_Name'),
                    'Sell-to_PostCode': Text(xmlData.'Sell-to_PostCode'),
                    Shipp_Agent_Code: Text(xmlData.Shipp_Agent_Code),
                    Shipp_Agent_Service_Code: Text(xmlData.Shipp_Agent_Service_Code),
                    Shipp_Date: Text(xmlData.Shipp_Date),
                    Shipp_Method_Code: Text(xmlData.Shipp_Method_Code),
                    'Ship-to_Address': Text(xmlData.'Ship-to_Address'),
                    'Ship-to_City': Text(xmlData.'Ship-to_City'),
                    'Ship-to_Code': Text(xmlData.'Ship-to_Code'),
                    'Ship-to_Contact': Text(xmlData.'Ship-to_Contact'),
                    'Ship-to_Name': Text(xmlData.'Ship-to_Name'),
                    'Ship-to_Post_Code': Text(xmlData.'Ship-to_Post_Code'),
                    Shortcut_Dimension_1_Code: Text(xmlData.Shortcut_Dimension_1_Code),
                    Status: Text(xmlData.Status),
                    Tax_Area_Code: Text(xmlData.Tax_Area_Code),
                    Transport_Method: Text(xmlData.Transport_Method),
                    'VAT_Bus._Posting_Group': Text(xmlData.'VAT_Bus._Posting_Group'),
                    VAT_Country_Code: Text(xmlData.VAT_Country_Code),
                    'VAT_Registration_No.': Text(xmlData.'VAT_Registration_No.'),
                    VAT_Date: Text(xmlData.VAT_Date)
                }
            }
        );
        IfError(
            ForAll(
                xmlData.Sales_Line As line,
                Collect(
                    colLines,
                    {
                        Description: Text(line.Description),
                        Document_No: Text(line.Document_No),
                        Document_Type: Text(line.Document_Type),
                        Item_No: Text(line.Item_No),
                        Line_Amount: Text(line.Line_Amount),
                        Line_Discount_Amount: Text(line.Line_Discount_Amount),
                        Line_No: Text(line.Line_No),
                        Location_Code: Text(line.Location_Code),
                        Outstand_Quantity: Text(line.Outstand_Quantity),
                        Posting_Group: Text(line.Posting_Group),
                        'Qty-to_Invoice': Text(line.'Qty-to_Invoice'),
                        'Qty-to_Ship': Text(line.'Qty-to_Ship'),
                        Quantity: Text(line.Quantity),
                        'Sell-to_Customer_No.': Text(line.'Sell-to_Customer_No.'),
                        Type: Text(line.Type),
                        Unit_Of_Measure: Text(line.Unit_Of_Measure),
                        Unit_Price: Text(line.Unit_Price)
                    }
                );
                IfError(
                    ForAll(
                        line.Res_Entry As entry,
                        Collect(
                            colEntries,
                            {
                                Created_By: Text(entry.Created_By),
                                Creation_Date: Text(entry.Creation_Date),
                                Entry_No: Text(entry.Entry_No),
                                Exp_Date: Text(entry.Exp_Date),
                                Exp_Receipt_Date: Text(entry.Exp_Receipt_Date),
                                Item_No: Text(entry.Item_No),
                                Item_Tracking: Text(entry.Item_Tracking),
                                LOT_No: Text(entry.LOT_No),
                                Location_Code: Text(entry.Location_Code),
                                Positive: Text(entry.Positive),
                                'Qty-to-Handle_Base': Text(entry.'Qty-to-Handle_Base'),
                                'Qty-to-Invoice_Base': Text(entry.'Qty-to-Invoice_Base'),
                                Quantity: Text(entry.Quantity),
                                Quantity_Base: Text(entry.Quantity_Base),
                                Quantity_Completed: Value(entry.Quantity_Completed),
                                Quantity_NewLOT: Value(entry.Quantity_NewLOT),
                                Res_Status: Text(entry.Res_Status),
                                Shipment_Date: Text(entry.Shipment_Date),
                                Source_ID: Text(entry.Source_ID),
                                Source_Ref_No: Text(entry.Source_Ref_No),
                                Source_SubType: Text(entry.Source_SubType),
                                Source_Type: Text(entry.Source_Type)
                            }
                        )
                    ),
                    Collect(
                        colEntries,
                        {
                            Created_By: Text(line.Res_Entry.Created_By),
                            Creation_Date: Text(line.Res_Entry.Creation_Date),
                            Entry_No: Text(line.Res_Entry.Entry_No),
                            Exp_Date: Text(line.Res_Entry.Exp_Date),
                            Exp_Receipt_Date: Text(line.Res_Entry.Exp_Receipt_Date),
                            Item_No: Text(line.Res_Entry.Item_No),
                            Item_Tracking: Text(line.Res_Entry.Item_Tracking),
                            LOT_No: Text(line.Res_Entry.LOT_No),
                            Location_Code: Text(line.Res_Entry.Location_Code),
                            Positive: Text(line.Res_Entry.Positive),
                            'Qty-to-Handle_Base': Text(line.Res_Entry.'Qty-to-Handle_Base'),
                            'Qty-to-Invoice_Base': Text(line.Res_Entry.'Qty-to-Invoice_Base'),
                            Quantity: Text(line.Res_Entry.Quantity),
                            Quantity_Base: Text(line.Res_Entry.Quantity_Base),
                            Quantity_Completed: Value(line.Res_Entry.Quantity_Completed),
                            Quantity_NewLOT: Value(line.Res_Entry.Quantity_NewLOT),
                            Res_Status: Text(line.Res_Entry.Res_Status),
                            Shipment_Date: Text(line.Res_Entry.Shipment_Date),
                            Source_ID: Text(line.Res_Entry.Source_ID),
                            Source_Ref_No: Text(line.Res_Entry.Source_Ref_No),
                            Source_SubType: Text(line.Res_Entry.Source_SubType),
                            Source_Type: Text(line.Res_Entry.Source_Type)
                        }
                    )
                )
            ),
            ClearCollect(
                colLines,
                {
                    Description: Text(xmlData.Sales_Line.Description),
                    Document_No: Text(xmlData.Sales_Line.Document_No),
                    Document_Type: Text(xmlData.Sales_Line.Document_Type),
                    Item_No: Text(xmlData.Sales_Line.Item_No),
                    Line_Amount: Text(xmlData.Sales_Line.Line_Amount),
                    Line_Discount_Amount: Text(xmlData.Sales_Line.Line_Discount_Amount),
                    Line_No: Text(xmlData.Sales_Line.Line_No),
                    Location_Code: Text(xmlData.Sales_Line.Location_Code),
                    Outstand_Quantity: Text(xmlData.Sales_Line.Outstand_Quantity),
                    Posting_Group: Text(xmlData.Sales_Line.Posting_Group),
                    'Qty-to_Invoice': Text(xmlData.Sales_Line.'Qty-to_Invoice'),
                    'Qty-to_Ship': Text(xmlData.Sales_Line.'Qty-to_Ship'),
                    Quantity: Text(xmlData.Sales_Line.Quantity),
                    'Sell-to_Customer_No.': Text(xmlData.Sales_Line.'Sell-to_Customer_No.'),
                    Type: Text(xmlData.Sales_Line.Type),
                    Unit_Of_Measure: Text(xmlData.Sales_Line.Unit_Of_Measure),
                    Unit_Price: Text(xmlData.Sales_Line.Unit_Price)
                }
            );
            IfError(
                ForAll(
                    xmlData.Sales_Line.Res_Entry As entry,
                    Collect(
                        colEntries,
                        {
                            Created_By: Text(entry.Created_By),
                            Creation_Date: Text(entry.Creation_Date),
                            Entry_No: Text(entry.Entry_No),
                            Exp_Date: Text(entry.Exp_Date),
                            Exp_Receipt_Date: Text(entry.Exp_Receipt_Date),
                            Item_No: Text(entry.Item_No),
                            Item_Tracking: Text(entry.Item_Tracking),
                            LOT_No: Text(entry.LOT_No),
                            Location_Code: Text(entry.Location_Code),
                            Positive: Text(entry.Positive),
                            'Qty-to-Handle_Base': Text(entry.'Qty-to-Handle_Base'),
                            'Qty-to-Invoice_Base': Text(entry.'Qty-to-Invoice_Base'),
                            Quantity: Text(entry.Quantity),
                            Quantity_Base: Text(entry.Quantity_Base),
                            Quantity_Completed: Value(entry.Quantity_Completed),
                            Quantity_NewLOT: Value(entry.Quantity_NewLOT),
                            Res_Status: Text(entry.Res_Status),
                            Shipment_Date: Text(entry.Shipment_Date),
                            Source_ID: Text(entry.Source_ID),
                            Source_Ref_No: Text(entry.Source_Ref_No),
                            Source_SubType: Text(entry.Source_SubType),
                            Source_Type: Text(entry.Source_Type)
                        }
                    )
                ),
                ClearCollect(
                    colEntries,
                    {
                        Created_By: Text(xmlData.Sales_Line.Res_Entry.Created_By),
                        Creation_Date: Text(xmlData.Sales_Line.Res_Entry.Creation_Date),
                        Entry_No: Text(xmlData.Sales_Line.Res_Entry.Entry_No),
                        Exp_Date: Text(xmlData.Sales_Line.Res_Entry.Exp_Date),
                        Exp_Receipt_Date: Text(xmlData.Sales_Line.Res_Entry.Exp_Receipt_Date),
                        Item_No: Text(xmlData.Sales_Line.Res_Entry.Item_No),
                        Item_Tracking: Text(xmlData.Sales_Line.Res_Entry.Item_Tracking),
                        LOT_No: Text(xmlData.Sales_Line.Res_Entry.LOT_No),
                        Location_Code: Text(xmlData.Sales_Line.Res_Entry.Location_Code),
                        Positive: Text(xmlData.Sales_Line.Res_Entry.Positive),
                        'Qty-to-Handle_Base': Text(xmlData.Sales_Line.Res_Entry.'Qty-to-Handle_Base'),
                        'Qty-to-Invoice_Base': Text(xmlData.Sales_Line.Res_Entry.'Qty-to-Invoice_Base'),
                        Quantity: Text(xmlData.Sales_Line.Res_Entry.Quantity),
                        Quantity_Base: Text(xmlData.Sales_Line.Res_Entry.Quantity_Base),
                        Quantity_Completed: Value(xmlData.Sales_Line.Res_Entry.Quantity_Completed),
                        Quantity_NewLOT: Value(xmlData.Sales_Line.Quantity_NewLOT),
                        Res_Status: Text(xmlData.Sales_Line.Res_Entry.Res_Status),
                        Shipment_Date: Text(xmlData.Sales_Line.Res_Entry.Shipment_Date),
                        Source_ID: Text(xmlData.Sales_Line.Res_Entry.Source_ID),
                        Source_Ref_No: Text(xmlData.Sales_Line.Res_Entry.Source_Ref_No),
                        Source_SubType: Text(xmlData.Sales_Line.Res_Entry.Source_SubType),
                        Source_Type: Text(xmlData.Sales_Line.Res_Entry.Source_Type)
                    }
                )
            )
        );
        Set(
            isLoading,
            false
        );
        If(
            SelectedFolder = ReadyForProcessing,
            ChangeXmlStatus.Run(
                SelectedFile,
                SelectedFolder,
                InProgress
            );
            Set(
                SelectedFolder,
                InProgress
            )
        );
        UpdateContext({wizardStep: 1});
        If(
            IsEmpty(
                Filter(
                    lockedItems,
                    ThisRecord.documentId = SelectedDocumentName
                )
            ),
            Collect(
                lockedItems,
                ForAll(
                    colEntries As entry,
                    {
                        documentId: SelectedDocumentName,
                        lineId: entry.Source_Ref_No,
                        entryId: entry.Entry_No,
                        isLocked: false
                    }
                )
            )
        );

    vrt_Pro As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowY: =LayoutOverflow.Scroll
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =Parent.Width
        ZIndex: =2

        com_ProHeader As com_Header:
            LayoutMinHeight: =640
            LayoutMinWidth: =640
            Title: ="NALOG ZA PRODAJU"

        Container9 As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.Light
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutDirection: =LayoutDirection.Vertical
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowY: =LayoutOverflow.Scroll
            ZIndex: =2

            Container2_4 As groupContainer.horizontalAutoLayoutContainer:
                BorderColor: =RGBA(214, 221, 224, 1)
                Height: =49
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =10
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                PaddingBottom: =10
                PaddingLeft: =10
                PaddingRight: =10
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Visible: =If(!isLoading, wizardStep = 1)
                Width: =Max(App.Width, App.MinScreenWidth)
                ZIndex: =1

                com_ProHeaderData As com_HeaderData:
                    AlignInContainer: =AlignInContainer.Center
                    LayoutMinHeight: =640
                    LayoutMinWidth: =250
                    Line1Label: |-
                        ="Broj naloga:"
                    Line1Value: =header.'No.'
                    Line2Label: |-
                        ="Datum dokumenta:"
                    Line2Value: =header.Document_Date
                    Line3Label: |-
                        ="Kupac:"
                    Line3Value: =header.'Bill-to_Name'
                    Line4Label: |-
                        ="Datum narudžbe:"
                    Line4Value: =header.Order_Date
                    Line5Label: |-
                        ="Datum knjiženja:"
                    Line5Value: =header.Posting_Date
                    Visible: =If(!isLoading, wizardStep = 1)

                Container15 As groupContainer.verticalAutoLayoutContainer:
                    DropShadow: =DropShadow.Light
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =3

                    TextCanvas5 As Text:
                        AutoHeight: =false
                        DisplayMode: =DisplayMode.Edit
                        Height: =40
                        LayoutMinHeight: =32
                        LayoutMinWidth: =96
                        PaddingBottom: =0
                        PaddingLeft: =5
                        PaddingRight: =5
                        PaddingTop: =0
                        Size: =16
                        Text: ="Stavke prodaje"
                        VerticalAlign: ='TextCanvas.VerticalAlign'.Middle
                        Width: =96
                        X: =0
                        Y: =0
                        ZIndex: =1

                    "glr_ProLines As gallery.'BrowseLayout_Vertical_ThreeTextVariant_ver5.0'":
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =App.Theme.Colors.Darker40
                        Default: |-
                            =LookUp(
                                colLines,
                                Barcode = ScannedItem,
                                ThisRecord
                            )
                        DelayItemLoading: =true
                        Fill: =RGBA(237, 237, 237, 1)
                        Height: =562
                        Items: =colLines
                        Layout: =Layout.Vertical
                        LayoutMinHeight: =Self.TemplateHeight * Self.AllItemsCount
                        LayoutMinWidth: =320
                        LoadingSpinner: =LoadingSpinner.Data
                        OnSelect: |-
                            =UpdateContext({wizardStep: 2});
                            Set(
                                ScannedItem,
                                Blank()
                            );
                        TemplatePadding: =0
                        TemplateSize: =164
                        Visible: =If(!isLoading, wizardStep = 1)
                        Width: =Parent.Width
                        Y: =49
                        ZIndex: =2

                        Separator6_4 As rectangle:
                            BorderColor: =App.Theme.Colors.Darker40
                            Fill: =RGBA(255, 255, 255, 1)
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Rectangle5_5 As rectangle:
                            BorderColor: =App.Theme.Colors.Darker40
                            Fill: =App.Theme.Colors.Darker30
                            Height: =Parent.TemplateHeight - Separator6_4.Height
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.IsSelected
                            Width: =4
                            ZIndex: =6

                        Group2_2 As group:
                            Height: =5
                            Width: =5
                            X: =40
                            Y: =40
                            ZIndex: =14

                            Title5_4 As label:
                                Color: =RGBA(50, 49, 48, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =22
                                OnSelect: =Select(Parent)
                                PaddingBottom: =0
                                PaddingLeft: =20
                                PaddingRight: =20
                                PaddingTop: =0
                                Size: =12
                                Text: |-
                                    ="Br. artikla:   " & ThisItem.Item_No
                                VerticalAlign: =VerticalAlign.Top
                                Width: =Parent.TemplateWidth
                                Y: =18
                                ZIndex: =1

                            Subtitle4_2 As label:
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =22
                                OnSelect: =Select(Parent)
                                PaddingBottom: =0
                                PaddingLeft: =20
                                PaddingRight: =20
                                PaddingTop: =0
                                Size: =12
                                Text: |-
                                    ="Naziv artikla:   " & ThisItem.Description
                                VerticalAlign: =VerticalAlign.Top
                                Width: =Parent.TemplateWidth
                                Y: =52
                                ZIndex: =2

                            Body1_13 As label:
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =18
                                OnSelect: =Select(Parent)
                                PaddingBottom: =0
                                PaddingLeft: =20
                                PaddingRight: =20
                                PaddingTop: =0
                                Size: =12
                                Text: |-
                                    ="Količina za slanje:    " & ThisItem.'Qty-to_Ship'
                                VerticalAlign: =VerticalAlign.Top
                                Width: =Parent.TemplateWidth
                                Y: =121
                                ZIndex: =3

                            Body1_12 As label:
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =22
                                OnSelect: =Select(Parent)
                                PaddingBottom: =0
                                PaddingLeft: =20
                                PaddingRight: =20
                                PaddingTop: =0
                                Size: =12
                                Text: |-
                                    ="Količina:    " & ThisItem.Quantity
                                VerticalAlign: =VerticalAlign.Top
                                Width: =Parent.TemplateWidth
                                Y: =87
                                ZIndex: =10

            Container14 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.Light
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =10
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =10
                PaddingTop: =10
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Visible: =If(!isLoading, wizardStep = 2)
                ZIndex: =2

                ButtonCanvas8 As Button:
                    Align: =Align.Left
                    Appearance: ='ButtonCanvas.Appearance'.Transparent
                    DisplayMode: =DisplayMode.Edit
                    FontSize: =0
                    Height: =20
                    Icon: ="ArrowLeft"
                    IconStyle: ='ButtonCanvas.IconStyle'.Filled
                    Layout: ='ButtonCanvas.Layout'.IconBefore
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: |-
                        =UpdateContext({wizardStep: 1})
                    PaddingBottom: =0
                    PaddingLeft: =5
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: ="Rezervacijski unosi"
                    Width: =155
                    X: =0
                    Y: =0
                    ZIndex: =1

                "glr_ProResEntries As gallery.'BrowseLayout_Vertical_ThreeTextVariant_ver5.0'":
                    BorderColor: =App.Theme.Colors.Darker40
                    DelayItemLoading: =true
                    Fill: =RGBA(237, 237, 237, 1)
                    Height: =560
                    Items: =Filter(colEntries, Source_Ref_No = glr_ProLines.Selected.Line_No)
                    Layout: =Layout.Vertical
                    LayoutMinHeight: =244
                    LayoutMinWidth: =320
                    LoadingSpinner: =LoadingSpinner.Data
                    OnSelect: |
                        =If(
                            LookUp(
                                lockedItems,
                                ThisRecord.documentId = SelectedDocumentName && ThisRecord.lineId = glr_ProLines.Selected.Line_No && glr_ProResEntries.Selected.Entry_No = ThisRecord.entryId,
                                !ThisRecord.isLocked
                            ),
                            Set(
                                isModalOpen,
                                true
                            );
                            
                        );
                    TemplatePadding: =0
                    TemplateSize: =244
                    Width: =Parent.Width
                    Y: =49
                    ZIndex: =2

                    Separator6_5 As rectangle:
                        BorderColor: =App.Theme.Colors.Darker40
                        Fill: =RGBA(255, 255, 255, 1)
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =5

                    Rectangle5_12 As rectangle:
                        BorderColor: =App.Theme.Colors.Darker40
                        Fill: =App.Theme.Colors.Darker30
                        Height: =Parent.TemplateHeight - Separator6_5.Height
                        OnSelect: =Select(Parent)
                        Visible: =ThisItem.IsSelected
                        Width: =4
                        ZIndex: =6

                    Group6 As group:
                        Height: =5
                        Width: =5
                        X: =40
                        Y: =40
                        ZIndex: =34

                        Body1_15 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =18
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: |-
                                ="Količina:    "
                            VerticalAlign: =VerticalAlign.Top
                            Width: =88
                            X: =18
                            Y: =50
                            ZIndex: =18

                        Body1_16 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =Self.Size * 1.8
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: |-
                                ="Rezervisana količina:    "
                            VerticalAlign: =VerticalAlign.Top
                            Width: =120
                            X: =18
                            Y: =87
                            ZIndex: =19

                        Body1_17 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =19
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: |-
                                ="Potrebna količina:    "
                            VerticalAlign: =VerticalAlign.Top
                            Width: =166
                            X: =18
                            Y: =123
                            ZIndex: =20

                        Body1_32 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =19
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: =ThisItem.Quantity
                            VerticalAlign: =VerticalAlign.Top
                            Width: =158
                            X: =184
                            Y: =49
                            ZIndex: =24

                        Body1_33 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =19
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: =ThisItem.Quantity_Completed
                            VerticalAlign: =VerticalAlign.Top
                            Width: =158
                            X: =184
                            Y: =87
                            ZIndex: =25

                        Body1_34 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =19
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: =ThisItem.Quantity_NewLOT
                            VerticalAlign: =VerticalAlign.Top
                            Width: =158
                            X: =184
                            Y: =123
                            ZIndex: =26

                        Body1_35 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =19
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: =ThisItem.Entry_No
                            VerticalAlign: =VerticalAlign.Top
                            Width: =158
                            X: =184
                            Y: =16
                            ZIndex: =27

                        Body1_36 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =18
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: |-
                                ="Br. artikla:    "
                            VerticalAlign: =VerticalAlign.Top
                            Width: =88
                            X: =18
                            Y: =16
                            ZIndex: =28

                        Body1_37 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =Self.Size * 1.8
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: |-
                                ="Rok trajanja:    "
                            VerticalAlign: =VerticalAlign.Top
                            Width: =120
                            X: =18
                            Y: =158
                            ZIndex: =29

                        Body1_38 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =Self.Size * 1.8
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: |-
                                ="LOT:    " & ThisItem.LOT_No
                            VerticalAlign: =VerticalAlign.Top
                            Width: =60
                            X: =18
                            Y: =196
                            ZIndex: =30

                        Body1_39 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =19
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: =If(IsBlank(ThisItem.Exp_Date), "//",ThisItem.Exp_Date)
                            VerticalAlign: =VerticalAlign.Top
                            Width: =158
                            X: =184
                            Y: =158
                            ZIndex: =31

                        Body1_40 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =19
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: =ThisItem.LOT_No
                            VerticalAlign: =VerticalAlign.Top
                            Width: =158
                            X: =184
                            Y: =196
                            ZIndex: =32

                        Body1_41 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Font: =App.Theme.Font
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =19
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =12
                            Text: =If(IsBlank(ThisItem.Quantity_NewLOT), 0, ThisItem.Quantity_NewLOT)
                            VerticalAlign: =VerticalAlign.Top
                            Width: =158
                            X: =184
                            Y: =123
                            ZIndex: =33

            spn_ProLoader As Spinner:
                BasePaletteColor: =
                DisplayMode: =DisplayMode.Edit
                FillPortions: =1
                FontColor: =
                Height: =200
                LayoutMinHeight: =200
                LayoutMinWidth: =200
                SpinnerSize: ='Spinner.SpinnerSize'.Huge
                Visible: =isLoading
                Width: =200
                X: =0
                Y: =0
                ZIndex: =3

        com_Footer_1 As com_Footer:
            IsInventura: =false
            JSONData: |-
                ="{" & Char(34) & "Sales_Header" & Char(34) & ": " & JSON(
                    AddColumns(
                        header,
                        Sales_Line,
                        ForAll(
                            colLines As line,
                            AddColumns(
                                line,
                                Res_Entry,
                                Filter(
                                    colEntries,
                                    ThisRecord.Source_Ref_No = line.Line_No
                                )
                            )
                        )
                    )
                ) & "}"
            LayoutMinHeight: =640
            LayoutMinWidth: =640
            ZIndex: =4

    com_ProModal As com_Modal:
        LineId: =glr_ProLines.Selected.Line_No
        Quantity: =Abs(glr_ProResEntries.Selected.Quantity)
        QuantityCompleted: =Abs(glr_ProResEntries.Selected.Quantity_Completed)
        QuantityNewLOT: =Abs(glr_ProResEntries.Selected.Quantity_NewLOT)
        ResEntryId: =glr_ProResEntries.Selected.Entry_No
        Visible: =isModalOpen
        ZIndex: =3

