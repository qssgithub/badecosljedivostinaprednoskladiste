"scr_XMLOtpremnice As screen.'autoLayout_HeaderFooter_ver1.0'":
    Fill: =RGBA(234, 83, 109, 1)
    LoadingSpinnerColor: =RGBA(164, 38, 44, 1)
    OnVisible: |
        =Set(
            isLoading,
            true
        );
        
        Reset(otpremniceReadyForNavCheckbox);
        UpdateContext(
            {
                xmlData: ParseJSON(
                    GetSkladisnaOtpremnica.Run(
                        SelectedFolder,
                        SelectedFile
                    ).xmlfile
                )
            }
        );
        UpdateContext(
            {
                Otpremnice: {
                    No: Text(xmlData.No),
                    Location_Code: Text(xmlData.Location_Code),
                    No_Series: Text(xmlData.No_Series),
                    Zone_Code: Text(xmlData.Zone_Code),
                    Bin_Code: Text(xmlData.Bin_Code),
                    Document_Status: Text(xmlData.Document_Status),
                    Posting_Date: Text(xmlData.Posting_Date),
                    Shipping_Agent_Code: Text(xmlData.Shipping_Agent_Code),
                    Shipping_Agent_Service_Code: Text(xmlData.Shipping_Agent_Service_Code),
                    Shipment_Method_Code: Text(xmlData.Shipment_Method_Code),
                    Shipment_Date: Text(xmlData.Shipment_Date),
                    Completely_Picked: Text(xmlData.Completely_Picked),
                    Status: Text(xmlData.Status),
                    'External_Document_No.': Text(xmlData.'External_Document_No.'),
                    Shipping_No: Text(xmlData.Shipping_No),
                    Shipping_No_Series: Text(xmlData.Shipping_No_Series),
                    Create_Posted_Header: Text(xmlData.Create_Posted_Header),
                    Warehouse_Shipment_Line: IfError(
                        ForAll(
                            xmlData.Warehouse_Shipment_Line As line,
                            {
                                No: Text(line.No),
                                Line_No: Text(line.Line_No),
                                Source_Type: Text(line.Source_Type),
                                Source_SubType: Text(line.Source_SubType),
                                Source_No: Text(line.Source_No),
                                Source_Line_No: Text(line.Source_Line_No),
                                Source_Document: Text(line.Source_Document),
                                Location_Code: Text(line.Location_Code),
                                Shelf_No: Text(line.Shelf_No),
                                Bin_Code: Text(line.Bin_Code),
                                Zone_Code: Text(line.Zone_Code),
                                Item_No: Text(line.Item_No),
                                Quantity: Text(line.Quantity),
                                Qty_Base: Text(line.Qty_Base),
                                Qty_Outstanding: Text(line.Qty_Outstanding),
                                Qty_Outstanding_Base: Text(line.Qty_Outstanding_Base),
                                Qty_to_Ship: Text(line.Qty_to_Ship),
                                Qty_to_Ship_Base: Text(line.Qty_to_Ship_Base),
                                Qty_Shipped: Text(line.Qty_Shipped),
                                Qty_Shipped_Base: Text(line.Qty_Shipped_Base),
                                Qty_Picked: Text(line.Qty_Picked),
                                Qty_Picked_Base: Text(line.Qty_Picked_Base),
                                Pick_Qty: Text(line.Pick_Qty),
                                Pick_Qty_Base: Text(line.Pick_Qty_Base),
                                UOM_Code: Text(line.UOM_Code),
                                Qty_per_UOM: Text(line.Qty_per_UOM),
                                Description: Text(line.Description),
                                Status: Text(line.Status),
                                Sorting_Sequence_No: Text(line.Sorting_Sequence_No),
                                Due_Date: Text(line.Due_Date),
                                Destination_Type: Text(line.Destination_Type),
                                Destination_No: Text(line.Destination_No),
                                Cubage: Text(line.Cubage),
                                Weight: Text(line.Weight),
                                Shipping_Advice: Text(line.Shipping_Advice),
                                Shipment_Date: Text(line.Shipment_Date),
                                Completely_Picked: Text(line.Completely_Picked),
                                'Not_upd._by_SDPost': Text(line.'Not_upd._by_SDPost'),
                                Posting_from_Whse_Ref: Text(line.Posting_from_Whse_Ref),
                                Res_Entry: IfError(
                                    ForAll(
                                        line.Res_Entry As entry,
                                        {
                                            Entry_No: Text(entry.Res_Entry.Entry_No),
                                            Item_No: Text(entry.Res_Entry.Item_No),
                                            Positive: Text(entry.Res_Entry.Positive),
                                            Quantity: Text(entry.Res_Entry.Quantity),
                                            Quantity_Base: Text(entry.Res_Entry.Quantity_Base),
                                            Location_Code: Text(entry.Res_Entry.Location_Code),
                                            Res_Status: Text(entry.Res_Entry.Res_Status),
                                            Source_Type: Text(entry.Res_Entry.Source_Type),
                                            Source_SubType: Text(entry.Res_Entry.Source_SubType),
                                            Source_ID: Text(entry.Res_Entry.Source_ID),
                                            Source_Ref_No: Text(entry.Res_Entry.Source_Ref_No),
                                            Item_Tracking: Text(entry.Res_Entry.Item_Tracking),
                                            LOT_No: Text(entry.Res_Entry.LOT_No),
                                            Exp_Date: Text(entry.Res_Entry.Exp_Date),
                                            Creation_Date: Text(entry.Res_Entry.Creation_Date),
                                            Exp_Receipt_Date: Text(entry.Res_Entry.Exp_Receipt_Date),
                                            Shipment_Date: Text(entry.Res_Entry.Shipment_Date),
                                            Created_By: Text(entry.Res_Entry.Created_By),
                                            'Qty-to-Handle_Base': Text(entry.Res_Entry.'Qty-to-Handle_Base'),
                                            'Qty-to-Invoice_Base': Text(entry.Res_Entry.'Qty-to-Invoice_Base')
                                        }
                                    ),
                                    {
                                        Entry_No: Text(line.Res_Entry.Entry_No),
                                        Item_No: Text(line.Res_Entry.Item_No),
                                        Positive: Text(line.Res_Entry.Positive),
                                        Quantity: Text(line.Res_Entry.Quantity),
                                        Quantity_Base: Text(line.Res_Entry.Quantity_Base),
                                        Location_Code: Text(line.Res_Entry.Location_Code),
                                        Res_Status: Text(line.Res_Entry.Res_Status),
                                        Source_Type: Text(line.Res_Entry.Source_Type),
                                        Source_SubType: Text(line.Res_Entry.Source_SubType),
                                        Source_ID: Text(line.Res_Entry.Source_ID),
                                        Source_Ref_No: Text(line.Res_Entry.Source_Ref_No),
                                        Item_Tracking: Text(line.Res_Entry.Item_Tracking),
                                        LOT_No: Text(line.Res_Entry.LOT_No),
                                        Exp_Date: Text(line.Res_Entry.Exp_Date),
                                        Creation_Date: Text(line.Res_Entry.Creation_Date),
                                        Exp_Receipt_Date: Text(line.Res_Entry.Exp_Receipt_Date),
                                        Shipment_Date: Text(line.Res_Entry.Shipment_Date),
                                        Created_By: Text(line.Res_Entry.Created_By),
                                        'Qty-to-Handle_Base': Text(line.Res_Entry.'Qty-to-Handle_Base'),
                                        'Qty-to-Invoice_Base': Text(line.Res_Entry.'Qty-to-Invoice_Base')
                                    }
                                )
                            }
                        ),
                        {
                            No: Text(xmlData.Warehouse_Shipment_Line.No),
                            Line_No: Text(xmlData.Warehouse_Shipment_Line.Line_No),
                            Source_Type: Text(xmlData.Warehouse_Shipment_Line.Source_Type),
                            Source_SubType: Text(xmlData.Warehouse_Shipment_Line.Source_SubType),
                            Source_No: Text(xmlData.Warehouse_Shipment_Line.Source_No),
                            Source_Line_No: Text(xmlData.Warehouse_Shipment_Line.Source_Line_No),
                            Source_Document: Text(xmlData.Warehouse_Shipment_Line.Source_Document),
                            Location_Code: Text(xmlData.Warehouse_Shipment_Line.Location_Code),
                            Shelf_No: Text(xmlData.Warehouse_Shipment_Line.Shelf_No),
                            Bin_Code: Text(xmlData.Warehouse_Shipment_Line.Bin_Code),
                            Zone_Code: Text(xmlData.Warehouse_Shipment_Line.Zone_Code),
                            Item_No: Text(xmlData.Warehouse_Shipment_Line.Item_No),
                            Quantity: Text(xmlData.Warehouse_Shipment_Line.Quantity),
                            Qty_Base: Text(xmlData.Warehouse_Shipment_Line.Qty_Base),
                            Qty_Outstanding: Text(xmlData.Warehouse_Shipment_Line.Qty_Outstanding),
                            Qty_Outstanding_Base: Text(xmlData.Warehouse_Shipment_Line.Qty_Outstanding_Base),
                            Qty_to_Ship: Text(xmlData.Warehouse_Shipment_Line.Qty_to_Ship),
                            Qty_to_Ship_Base: Text(xmlData.Warehouse_Shipment_Line.Qty_to_Ship_Base),
                            Qty_Shipped: Text(xmlData.Warehouse_Shipment_Line.Qty_Shipped),
                            Qty_Shipped_Base: Text(xmlData.Warehouse_Shipment_Line.Qty_Shipped_Base),
                            Qty_Picked: Text(xmlData.Warehouse_Shipment_Line.Qty_Picked),
                            Qty_Picked_Base: Text(xmlData.Warehouse_Shipment_Line.Qty_Picked_Base),
                            Pick_Qty: Text(xmlData.Warehouse_Shipment_Line.Pick_Qty),
                            Pick_Qty_Base: Text(xmlData.Warehouse_Shipment_Line.Pick_Qty_Base),
                            UOM_Code: Text(xmlData.Warehouse_Shipment_Line.UOM_Code),
                            Qty_per_UOM: Text(xmlData.Warehouse_Shipment_Line.Qty_per_UOM),
                            Description: Text(xmlData.Warehouse_Shipment_Line.Description),
                            Status: Text(xmlData.Warehouse_Shipment_Line.Status),
                            Sorting_Sequence_No: Text(xmlData.Warehouse_Shipment_Line.Sorting_Sequence_No),
                            Due_Date: Text(xmlData.Warehouse_Shipment_Line.Due_Date),
                            Destination_Type: Text(xmlData.Warehouse_Shipment_Line.Destination_Type),
                            Destination_No: Text(xmlData.Warehouse_Shipment_Line.Destination_No),
                            Cubage: Text(xmlData.Warehouse_Shipment_Line.Cubage),
                            Weight: Text(xmlData.Warehouse_Shipment_Line.Weight),
                            Shipping_Advice: Text(xmlData.Warehouse_Shipment_Line.Shipping_Advice),
                            Shipment_Date: Text(xmlData.Warehouse_Shipment_Line.Shipment_Date),
                            Completely_Picked: Text(xmlData.Warehouse_Shipment_Line.Completely_Picked),
                            'Not_upd._by_SDPost': Text(xmlData.Warehouse_Shipment_Line.'Not_upd._by_SDPost'),
                            Posting_from_Whse_Ref: Text(xmlData.Warehouse_Shipment_Line.Posting_from_Whse_Ref),
                            Res_Entry: IfError(
                                ForAll(
                                    xmlData.Warehouse_Shipment_Line.Res_Entry As entry,
                                    {
                                        Entry_No: Text(entry.Res_Entry.Entry_No),
                                        Item_No: Text(entry.Res_Entry.Item_No),
                                        Positive: Text(entry.Res_Entry.Positive),
                                        Quantity: Text(entry.Res_Entry.Quantity),
                                        Quantity_Base: Text(entry.Res_Entry.Quantity_Base),
                                        Location_Code: Text(entry.Res_Entry.Location_Code),
                                        Res_Status: Text(entry.Res_Entry.Res_Status),
                                        Source_Type: Text(entry.Res_Entry.Source_Type),
                                        Source_SubType: Text(entry.Res_Entry.Source_SubType),
                                        Source_ID: Text(entry.Res_Entry.Source_ID),
                                        Source_Ref_No: Text(entry.Res_Entry.Source_Ref_No),
                                        Item_Tracking: Text(entry.Res_Entry.Item_Tracking),
                                        LOT_No: Text(entry.Res_Entry.LOT_No),
                                        Exp_Date: Text(entry.Res_Entry.Exp_Date),
                                        Creation_Date: Text(entry.Res_Entry.Creation_Date),
                                        Exp_Receipt_Date: Text(entry.Res_Entry.Exp_Receipt_Date),
                                        Shipment_Date: Text(entry.Res_Entry.Shipment_Date),
                                        Created_By: Text(entry.Res_Entry.Created_By),
                                        'Qty-to-Handle_Base': Text(entry.Res_Entry.'Qty-to-Handle_Base'),
                                        'Qty-to-Invoice_Base': Text(entry.Res_Entry.'Qty-to-Invoice_Base')
                                    }
                                ),
                                {
                                    Entry_No: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Entry_No),
                                    Item_No: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Item_No),
                                    Positive: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Positive),
                                    Quantity: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Quantity),
                                    Quantity_Base: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Quantity_Base),
                                    Location_Code: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Location_Code),
                                    Res_Status: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Res_Status),
                                    Source_Type: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Source_Type),
                                    Source_SubType: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Source_SubType),
                                    Source_ID: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Source_ID),
                                    Source_Ref_No: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Source_Ref_No),
                                    Item_Tracking: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Item_Tracking),
                                    LOT_No: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.LOT_No),
                                    Exp_Date: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Exp_Date),
                                    Creation_Date: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Creation_Date),
                                    Exp_Receipt_Date: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Exp_Receipt_Date),
                                    Shipment_Date: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Shipment_Date),
                                    Created_By: Text(xmlData.Warehouse_Shipment_Line.Res_Entry.Created_By),
                                    'Qty-to-Handle_Base': Text(xmlData.Warehouse_Shipment_Line.Res_Entry.'Qty-to-Handle_Base'),
                                    'Qty-to-Invoice_Base': Text(xmlData.Warehouse_Shipment_Line.Res_Entry.'Qty-to-Invoice_Base')
                                }
                            )
                        }
                    )
                }
            }
        );
        
        Set(isLoading, false);
        UpdateContext({wizardStep:1});

    OtpremniceScreenContainer As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =16
        LayoutMode: =LayoutMode.Auto
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =Parent.Width
        ZIndex: =1

        OtpremniceHeader As Header:
            BasePaletteColor: =RGBA(249, 83, 109, 1)
            DisplayMode: =DisplayMode.Edit
            FontColor: =
            Height: =75
            LayoutMinHeight: =75
            LayoutMinWidth: =Parent.Width
            Logo: =FFLogo
            OnSelectLogo: =Navigate(scrEntry)
            Style: ='Header.Style'.Primary
            Title: ="OTPREMNICE"
            TitleFontSize: =14
            UserEmail: =User().Email
            UserImage: =User().Image
            UserName: =User().FullName
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =1

        OtpremniceBody As groupContainer.manualLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.Light
            Height: =565
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Visible: =!isLoading
            Width: =Parent.Width
            X: =6
            Y: =15
            ZIndex: =2

            Otpremnice_Line_Canvas As fluidGrid.fluidGridWithBlankCard:
                BorderThickness: =0
                Height: =611
                Visible: =wizardStep = 1
                Width: =Parent.Width
                ZIndex: =28

                Otpremnice_Header As dataCard:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderStyle: =BorderStyle.Solid
                    BorderThickness: =0
                    DisplayMode: =DisplayMode.Edit
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =150
                    Width: =Parent.Width
                    X: =0
                    Y: =1
                    ZIndex: =1

                    Group5 As group:
                        Height: =5
                        Width: =5
                        X: =40
                        Y: =40
                        ZIndex: =7

                        Label1_18 As label:
                            BorderColor: =RGBA(89, 0, 0, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Height: =24
                            PaddingLeft: =20
                            Size: =10
                            Text: |-
                                ="Broj otpremnice :   " & Otpremnice.No
                            Width: =Parent.Width
                            Y: =17
                            ZIndex: =2

                        Label1_19 As label:
                            BorderColor: =RGBA(89, 0, 0, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Height: =24
                            PaddingLeft: =20
                            Size: =10
                            Text: |-
                                ="Skladište :   " & Otpremnice.Location_Code
                            Width: =Parent.Width
                            Y: =41
                            ZIndex: =3

                        Label1_20 As label:
                            BorderColor: =RGBA(89, 0, 0, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Height: =24
                            PaddingLeft: =20
                            Size: =10
                            Text: |-
                                ="Datum slanja :   " & Otpremnice.Shipment_Date
                            Width: =Parent.Width
                            Y: =65
                            ZIndex: =4

                        Label1_21 As label:
                            BorderColor: =RGBA(89, 0, 0, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Height: =24
                            PaddingLeft: =20
                            Size: =10
                            Text: |-
                                ="Status :   " & Otpremnice.Status
                            Width: =Parent.Width
                            Y: =88
                            ZIndex: =5

                        Label1_22 As label:
                            BorderColor: =RGBA(89, 0, 0, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Height: =24
                            PaddingLeft: =20
                            Size: =10
                            Text: |-
                                ="Datum knjiženja :   " & Otpremnice.Posting_Date
                            Width: =Parent.Width
                            Y: =111
                            ZIndex: =6

                Otpremnice_Lines As dataCard.blankCard:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderStyle: =BorderStyle.Solid
                    DisplayMode: =DisplayMode.Edit
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =Parent.Height
                    Visible: =wizardStep = 1
                    Width: =Parent.Width
                    X: =0
                    Y: =2
                    ZIndex: =2

                    "OtpremniceLines As gallery.'BrowseLayout_Vertical_ThreeTextVariant_ver5.0'":
                        BorderColor: =RGBA(89, 0, 0, 1)
                        Default: |
                            =First(Filter(Otpremnice.Warehouse_Shipment_Line, Text(Line_No) = scannedItem))
                        DelayItemLoading: =true
                        Fill: =RGBA(237, 237, 237, 1)
                        Height: =562
                        Items: =Otpremnice.Warehouse_Shipment_Line
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        OnSelect: |-
                            =UpdateContext({wizardStep:2});
                        TemplatePadding: =0
                        TemplateSize: =199
                        Width: =Parent.Width
                        Y: =49
                        ZIndex: =1

                        Title5_9 As label:
                            Color: =RGBA(50, 49, 48, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =22
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =20
                            PaddingRight: =20
                            PaddingTop: =0
                            Size: =12
                            Text: |-
                                ="Br. artikla:   " & ThisItem.Item_No
                            VerticalAlign: =VerticalAlign.Top
                            Width: =Parent.Width
                            Y: =18
                            ZIndex: =1

                        Subtitle4_5 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =22
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =20
                            PaddingRight: =20
                            PaddingTop: =0
                            Size: =12
                            Text: |-
                                ="Naziv artikla:   " & ThisItem.Description
                            VerticalAlign: =VerticalAlign.Top
                            Width: =Parent.Width
                            Y: =52
                            ZIndex: =2

                        Body1_27 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =18
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =20
                            PaddingRight: =20
                            PaddingTop: =0
                            Size: =12
                            Text: |-
                                ="Poslana količina:    " & ThisItem.Qty_Shipped
                            VerticalAlign: =VerticalAlign.Top
                            Width: =Parent.Width
                            Y: =121
                            ZIndex: =3

                        Separator6_9 As rectangle:
                            BorderColor: =RGBA(89, 0, 0, 1)
                            Fill: =RGBA(255, 255, 255, 1)
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Rectangle5_8 As rectangle:
                            BorderColor: =RGBA(89, 0, 0, 1)
                            Fill: =RGBA(89, 0, 0, 1)
                            Height: =Parent.TemplateHeight - Separator6_9.Height
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.IsSelected
                            Width: =1
                            ZIndex: =6

                        Body1_26 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =22
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =20
                            PaddingRight: =20
                            PaddingTop: =0
                            Size: =12
                            Text: |-
                                ="Količina:    " & ThisItem.Quantity
                            VerticalAlign: =VerticalAlign.Top
                            Width: =Parent.Width
                            Y: =87
                            ZIndex: =10

                        Body1_28 As label:
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                            Height: =18
                            OnSelect: =Select(Parent)
                            PaddingBottom: =0
                            PaddingLeft: =20
                            PaddingRight: =20
                            PaddingTop: =0
                            Size: =12
                            Text: |-
                                ="Količina za poslati:    " & ThisItem.Qty_to_Ship
                            VerticalAlign: =VerticalAlign.Top
                            Width: =Parent.Width
                            Y: =156
                            ZIndex: =11

                    Container2_9 As groupContainer.horizontalAutoLayoutContainer:
                        BorderColor: =RGBA(214, 221, 224, 1)
                        BorderThickness: =0.5
                        DropShadow: =DropShadow.Light
                        Height: =49
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        LayoutMode: =LayoutMode.Auto
                        PaddingRight: =20
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Max(App.Width, App.MinScreenWidth)
                        ZIndex: =5

                        Label2_9 As label:
                            AlignInContainer: =AlignInContainer.Center
                            BorderColor: =RGBA(89, 0, 0, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Height: =24
                            PaddingLeft: =20
                            Size: =12
                            Text: ="Stavke otpremnice"
                            Width: |
                                =200
                            Y: =1
                            ZIndex: =1

                        "BarcodeReader1_5 As 'Barcode Reader'":
                            AlignInContainer: =AlignInContainer.Center
                            BarcodeType: ='BarcodeReader.BarcodeType'.Code128
                            BorderFillColor: =RGBA(0, 0, 0, 1)
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledContentColor: =RGBA(166, 166, 166, 1)
                            DisabledFillColor: =RGBA(244, 244, 244, 1)
                            DisplayMode: =DisplayMode.Edit
                            FillColor: =RGBA(255, 255, 255, 1)
                            FontSize: =12
                            Height: =28
                            HoverBorderColor: =RGBA(189, 49, 51, 1)
                            HoverContentColor: =RGBA(255, 255, 255, 1)
                            HoverFillColor: =RGBA(189, 49, 51, 1)
                            LayoutMinHeight: =70
                            LayoutMinWidth: =280
                            OnCancel: =false
                            OnScan: |-
                                =UpdateContext({
                                    scannedItem:First(BarcodeReader1_5.Barcodes).Value
                                })
                            PressedBorderColor: =RGBA(189, 49, 51, 1)
                            PressedContentColor: =RGBA(189, 49, 51, 1)
                            PressedFillColor: =RGBA(255, 255, 255, 1)
                            ScanningMode: ='BarcodeReader.ScanningMode'.SelectToScan
                            Text: ="Skener"
                            TextAlignment: =Align.Center
                            TextColor: =RGBA(0, 0, 0, 1)
                            Visible: =If(App.Width > 500, false, true)
                            Width: =80
                            X: =164
                            Y: =9
                            ZIndex: =2

                Otpremnice As dataCard.blankCard:
                    BorderColor: =RGBA(214, 221, 224, 1)
                    BorderStyle: =BorderStyle.Solid
                    BorderThickness: =0.5
                    DisplayMode: =DisplayMode.Edit
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =14
                    Width: =Parent.Width
                    WidthFit: =false
                    X: =0
                    Y: =0
                    ZIndex: =3

                    Icon1_9 As icon.BackArrow:
                        BorderColor: =RGBA(89, 0, 0, 1)
                        Color: =RGBA(89, 0, 0, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(244, 244, 244, 1)
                        Height: =25
                        Icon: =Icon.ArrowLeft
                        OnSelect: =Navigate(scrEntry,ScreenTransition.Fade);
                        Width: =25
                        X: =20
                        ZIndex: =1

            Otpremnice_ResEntryCanvas As fluidGrid.fluidGridWithBlankCard:
                BorderThickness: =0
                Height: =610
                Visible: =wizardStep = 2
                Width: =Parent.Width
                ZIndex: =29

                Otpremnice_ResEntry As dataCard.blankCard:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderStyle: =BorderStyle.Solid
                    DisplayMode: =DisplayMode.Edit
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =612
                    Width: =Parent.Width
                    X: =0
                    Y: =1
                    ZIndex: =2

                    "Otpremnice_ResEntryGallery As gallery.'BrowseLayout_Vertical_ThreeTextVariant_ver5.0'":
                        BorderColor: =RGBA(89, 0, 0, 1)
                        DelayItemLoading: =true
                        Fill: =RGBA(237, 237, 237, 1)
                        Height: =560
                        Items: |-
                            =//Filter(colSalesResEntries, OtpremniceLines_1.Selected.Item_No = Item_No)
                            OtpremniceLines.Selected.Res_Entry
                        Layout: =Layout.Vertical
                        LoadingSpinner: =LoadingSpinner.Data
                        TemplatePadding: =0
                        TemplateSize: =176
                        Width: =Parent.Width
                        Y: =49
                        ZIndex: =1

                        Separator6_10 As rectangle:
                            BorderColor: =RGBA(89, 0, 0, 1)
                            Fill: =RGBA(255, 255, 255, 1)
                            Height: =8
                            OnSelect: =Select(Parent)
                            Width: =Parent.TemplateWidth
                            Y: =Parent.TemplateHeight - Self.Height
                            ZIndex: =5

                        Rectangle5_14 As rectangle:
                            BorderColor: =RGBA(89, 0, 0, 1)
                            Fill: =RGBA(89, 0, 0, 1)
                            Height: =Parent.TemplateHeight - Separator6_10.Height
                            OnSelect: =Select(Parent)
                            Visible: =ThisItem.IsSelected
                            Width: =4
                            ZIndex: =6

                        Group1_4 As group:
                            Height: =5
                            Width: =5
                            X: =40
                            Y: =40
                            ZIndex: =16

                            Title5_10 As label:
                                Color: =RGBA(50, 49, 48, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =Self.Size * 1.8
                                OnSelect: =Select(Parent)
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Size: =12
                                Text: |-
                                    ="Br. artikla:   " & ThisItem.Entry_No
                                VerticalAlign: =VerticalAlign.Top
                                Width: =Parent.TemplateWidth - 86
                                X: =24
                                Y: =18
                                ZIndex: =1

                            Body1_29 As label:
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =18
                                OnSelect: =Select(Parent)
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Size: =12
                                Text: |-
                                    ="Količina:    "
                                VerticalAlign: =VerticalAlign.Top
                                Width: =88
                                X: =24
                                Y: =55
                                ZIndex: =3

                            Body1_30 As label:
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =Self.Size * 1.8
                                OnSelect: =Select(Parent)
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Size: =12
                                Text: |-
                                    ="Rok trajanja:    "
                                VerticalAlign: =VerticalAlign.Top
                                Width: =120
                                X: =24
                                Y: =97
                                ZIndex: =8

                            Body1_31 As label:
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                                Height: =Self.Size * 1.8
                                OnSelect: =Select(Parent)
                                PaddingBottom: =0
                                PaddingLeft: =0
                                PaddingRight: =0
                                PaddingTop: =0
                                Size: =12
                                Text: |-
                                    ="LOT:    " & ThisItem.LOT_No
                                VerticalAlign: =VerticalAlign.Top
                                Width: =60
                                X: =28
                                Y: =133
                                ZIndex: =9

                            "OtpremniceResEntryQty As 'Text input'":
                                Align: ='TextInputCanvas.Align'.Start
                                Appearance: ="FilledDarker"
                                BasePaletteColor: =
                                DelayOutput: =true
                                DisplayMode: =DisplayMode.Edit
                                Fill: =
                                FontColor: =
                                FontSize: =15
                                Height: =31
                                OnChange: |-
                                    =UpdateIf(OtpremniceLines.Selected.Res_Entry, Otpremnice_ResEntryGallery.Selected.Entry_No = ThisRecord.Entry_No ,{Quantity: Value(OtpremniceResEntryQty.Value)});
                                Value: =ThisItem.Quantity
                                Width: =113
                                X: =112
                                Y: =49
                                ZIndex: =11

                            DatePickerExpDateOtpremnice As datepicker:
                                BorderColor: =RGBA(89, 0, 0, 1)
                                CalendarHeaderFill: =RGBA(164, 38, 44, 1)
                                Color: =RGBA(0, 0, 0, 1)
                                DefaultDate: =If(IsBlank(ThisItem.Exp_Date), Today(), ThisItem.Exp_Date)
                                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisabledFill: =RGBA(244, 244, 244, 1)
                                DisplayMode: =//If(IsBlank(ThisItem.Exp_Date), DisplayMode.Disabled, DisplayMode.Edit)
                                Format: ="dd.mm.yyyy"
                                Height: =26
                                HoverDateFill: =RGBA(222, 179, 184, 1)
                                IconBackground: =RGBA(164, 38, 44, 1)
                                OnChange: |-
                                    =UpdateIf(OtpremniceLines.Selected.Res_Entry, Otpremnice_ResEntryGallery.Selected.Entry_No = ThisRecord.Entry_No ,{Exp_Date: Text(DatePickerExpDateOtpremnice.SelectedDate, "yyyy-mm-dd")})
                                OnSelect: =
                                SelectedDateFill: =RGBA(164, 38, 44, 1)
                                Width: =158
                                X: =148
                                Y: =92
                                ZIndex: =14

                            "OtpremniceLot As 'Text input'":
                                Align: ='TextInputCanvas.Align'.Start
                                Appearance: ="FilledDarker"
                                BasePaletteColor: =
                                DelayOutput: =true
                                DisplayMode: =DisplayMode.Edit
                                Fill: =
                                FontColor: =
                                FontSize: =15
                                Height: =31
                                OnChange: |-
                                    =UpdateIf(OtpremniceLines.Selected.Res_Entry, Otpremnice_ResEntryGallery.Selected.Entry_No = ThisRecord.Entry_No ,{LOT_No: Text(OtpremniceLot.Value)})
                                Value: =ThisItem.LOT_No
                                Width: =113
                                X: =80
                                Y: =128
                                ZIndex: =15

                    Container2_10 As groupContainer.horizontalAutoLayoutContainer:
                        DropShadow: =DropShadow.Light
                        Height: =49
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        LayoutMode: =LayoutMode.Auto
                        PaddingRight: =20
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Max(App.Width, App.MinScreenWidth)
                        ZIndex: =4

                        Label2_10 As label:
                            AlignInContainer: =AlignInContainer.Center
                            BorderColor: =RGBA(89, 0, 0, 1)
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            Height: =24
                            PaddingLeft: =20
                            Size: =12
                            Text: ="Rezervacijski unosi"
                            Width: |
                                =200
                            Y: =1
                            ZIndex: =1

                    "DatePickerCanvas1 As 'Date picker'":
                        DisplayMode: =DisplayMode.Edit
                        Height: =32
                        Width: =320
                        X: =328
                        Y: =136
                        ZIndex: =5

                Otpremnice_ResEntryNav As dataCard.blankCard:
                    BorderColor: =RGBA(0, 0, 0, 1)
                    BorderStyle: =BorderStyle.Solid
                    DisplayMode: =DisplayMode.Edit
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =25
                    Width: =Parent.Width
                    X: =20
                    Y: =0
                    ZIndex: =3

                    Icon1_10 As icon.BackArrow:
                        BorderColor: =RGBA(89, 0, 0, 1)
                        Color: =RGBA(89, 0, 0, 1)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(244, 244, 244, 1)
                        Height: =25
                        Icon: =Icon.ArrowLeft
                        OnSelect: |-
                            =
                            UpdateContext({wizardStep:1});
                        Width: =25
                        X: =20
                        ZIndex: =1

        OtpremniceFooter As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            BorderColor: =RGBA(233, 79, 76, 1)
            DropShadow: =DropShadow.Light
            Fill: =RGBA(237, 237, 237, 1)
            FillPortions: =0
            Height: =50
            LayoutAlignItems: =LayoutAlignItems.End
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =15
            PaddingRight: =20
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            Visible: =!isLoading
            Width: =Max(App.Width, App.MinScreenWidth)
            ZIndex: =3

            otpremniceReadyForNavCheckbox As Checkbox:
                BasePaletteColor: =RGBA(249, 83, 109, 1)
                CheckboxSize: =16
                DisplayMode: =If(!isLoading, DisplayMode.Edit, DisplayMode.Disabled)
                FontColor: =
                FontSize: =14
                FontWeight: =FontWeight.Bold
                Height: =Parent.Height
                Label: ="Spremno za NAV"
                LayoutMinHeight: =32
                LayoutMinWidth: =160
                OnCheck: =false
                OnUncheck: =false
                Width: =160
                X: =0
                Y: =0
                ZIndex: =2

            saveXml_8 As button:
                AlignInContainer: =AlignInContainer.Center
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                DisplayMode: =If(!isLoading, DisplayMode.Edit, DisplayMode.Disabled)
                Fill: =RGBA(164, 38, 44, 1)
                FontWeight: =FontWeight.Semibold
                Height: =30
                HoverColor: =RGBA(255, 255, 255, 1)
                HoverFill: =ColorFade(RGBA(164, 38, 44, 1), -20%)
                OnSelect: |
                    =UpdateContext({response: UpdateXML.Run("{Warehouse_Shipment_Header:" & JSON(Otpremnice) & "}", SelectedFile, SelectedFolder,    otpremniceReadyForNavCheckbox.Checked)});
                    
                    UpdateContext({parsedResponseMessage : ParseJSON(response.responsemessage)});
                    Set(SelectedFolder, response.folder);
                    
                    If(response.folder = "ReadyForNAVProcessing", Navigate(scrEntry,ScreenTransition.Fade), Navigate(scr_XMLOtpremnice,ScreenTransition.Fade));
                    
                    Notify(parsedResponseMessage.Message , If(parsedResponseMessage.Status = "200", NotificationType.Success, NotificationType.Error), 2000);
                Size: =12
                Text: ="Sačuvaj"
                Width: =100
                X: =570
                Y: =718
                ZIndex: =3

        Spinner2_6 As Spinner:
            BasePaletteColor: =RGBA(249, 83, 109, 1)
            DisplayMode: =DisplayMode.Edit
            FillPortions: =1
            FontColor: =
            Height: =200
            LayoutMinHeight: =200
            LayoutMinWidth: =200
            SpinnerSize: ='Spinner.SpinnerSize'.Huge
            Visible: =isLoading
            Width: =200
            X: =0
            Y: =0
            ZIndex: =4

    Container1 As groupContainer.manualLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(0, 0, 0, 50%)
        Height: =Parent.Height
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Visible: =false
        Width: |
            =Parent.Width
        ZIndex: =2

        Container3 As groupContainer.manualLayoutContainer:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Parent.Height * 50%
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: =Parent.Width * 50%
            X: =Parent.Width * 25%
            Y: =Parent.Height * 25%
            ZIndex: =1

            Container4 As groupContainer.verticalAutoLayoutContainer:
                Height: =Parent.Height
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                ZIndex: =1

                Container5 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Light
                    LayoutMinHeight: =50
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =1

                    TextCanvas2 As Text:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.Edit
                        Height: =32
                        Text: ="Unesite" & modalLabel
                        Width: =Parent.Width
                        X: =0
                        Y: =0
                        ZIndex: =1

                Container6 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Light
                    FillPortions: =3
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    X: =40
                    Y: =40
                    ZIndex: =2

                Container7 As groupContainer.manualLayoutContainer:
                    LayoutMinHeight: =50
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =3

